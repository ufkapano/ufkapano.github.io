<html>
<head>
<title>Opis systemu PGP dla laika</title>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-2">
</head>
<body>
<h1>Opis systemu PGP dla laika</h1>
<h3><a href="http://www.agh.edu.pl/~szymon">Szymon Sokó³</a>, 
sierpieñ 1995 - listopad 1996</h3>
<h3>Uzupe³nienia: <br>
<a href="http://www.ict.pwr.wroc.pl/~tsurmacz/">Tomasz R. Surmacz</a><br>
<a href="http://www.uci.agh.edu.pl/~rzm/">Rafa³ Z. Maszkowski</a><br>
<a href="http://melkor.mimuw.edu.pl/~andy/">Andrzej K. Brandt</a><br>
</h3>

<img src="/img/new_preceeding.gif" alt="NEW! ">Aktualna wersja PGP to
2.6.3i - luty 1996.<p>
Dostêpna jest <a href="pgp_opis.doc">wersja niniejszego dokumentu w MS Word</a>
skonwertowana przez Witka Owoca.

<HR>
 <IMG SRC = "/img/wa.gif" alt="">
 <A HREF = "http://www.gumbeers.elka.pg.gda.pl/WA/">WA</A>
 <IMG SRC = "/img/wk.gif" alt="">
 <A HREF = "http://www.gumbeers.elka.pg.gda.pl/WA/KTI/">KTI</A>
 <IMG SRC = "/img/temat.gif" alt="">
 <A HREF = "http://www.gumbeers.elka.pg.gda.pl/WA/KTI/01/dok00-00.htm">spis artyku³ów</A>

<HR>

<h2>Spis tre¶ci</h2>
<ol>
<li><a href="#wstep">
Wstêp</a>
<li><a href="#jak">
Jak to dzia³a?</a>
<li><a href="#skad">
Sk±d to wzi±æ?</a>
<li><a href="#uzycie">
Jak siê tego u¿ywa?</a>
<ol>
<li><a href="#generacja">
Generowanie klucza</a>
<li><a href="#rozpowszechnianie">
Rozpowszechnianie kluczy publicznych</a>
<li><a href="#uzyskiwanie">
Uzyskiwanie kluczy publicznych innych osób</a>
<li><a href="#zarzadzanie">
Zarz±dzanie kluczami</a>
<li><a href="#sygnowanie">
Sygnowanie i sprawdzanie sygnatur</a>
<li><a href="#szyfrowanie">
Szyfrowanie i deszyfrowanie</a>
<li><a href="#inne">
Inne mo¿liwo¶ci PGP</a>
</ol>
<li><a href="#konfiguracja">
Konfiguracja PGP</a>
<ol>
<li><a href="#zbior">
Zbiór konfiguracyjny</a>
<li><a href="#pomocnicze">
Programy pomocnicze</a>
<li><a href="#vi">
PGP a vi</a> (autorem tego podrozdzia³u jest
<a href="http://www.ict.pwr.wroc.pl/~tsurmacz/">Tomasz R. Surmacz &lt;tsurmacz@asic.ict.pwr.wroc.pl&gt;</a>)
<li><a href="#elm">
PGP a ELM</a> (autorem tego podrozdzia³u jest
<a href="http://www.uci.agh.edu.pl/~rzm/">Rafa³ Z. Maszkowski
&lt;rzm@pdi.lodz.pl&gt;</a>)
</ol>
<li><a href="#szczegoly">
Wiêcej szczegó³ów o PGP</a>
<ol>
<li><a href="#siec">
W sieci</a>
<li><a href="#literatura">
Literatura</a>
</ol>
</ol>
<p>

<a name="wstep">
<h2>Wstêp</h2></a>
<b>PGP</b> (Pretty Good Privacy - Ca³kiem Niez³a Prywatno¶æ) jest kryptosystemem
(tzn. systemem szyfruj±co-deszyfruj±cym) autorstwa
Phila Zimmermanna <i>&lt;prz@acm.org&gt;</i>
wykorzystuj±cym ideê klucza publicznego. Podstawowym zastosowaniem PGP jest
szyfrowanie poczty elektronicznej, transmitowanej przez kana³y nie daj±ce
gwarancji poufno¶ci ani integralno¶ci poczty. Przez poufno¶æ rozumiemy tu
niemo¿no¶æ podgl±dania zawarto¶ci listów przez osoby trzecie; przez
integralno¶æ - niemo¿no¶æ wprowadzania przez takie osoby modyfikacji do
tre¶ci listu.
<p>
PGP pozwala nie tylko szyfrowaæ listy, aby uniemo¿liwiæ
ich podgl±danie, ale tak¿e sygnowaæ (podpisywaæ) listy zaszyfrowane lub
niezaszyfrowane w sposób umo¿liwiaj±cy adresatowi (adresatom) stwierdzenie,
czy list pochodzi rzeczywi¶cie od nadawcy, oraz czy jego tre¶æ nie by³a po
podpisaniu modyfikowana przez osoby trzecie. Szczególnie istotny z punktu
widzenia u¿ytkownika poczty elektronicznej jest fakt, ¿e techniki szyfrowania
oparte o metodê klucza publicznego <b>nie wymagaj±</b> wcze¶niejszego
przekazania klucza szyfrowania/deszyfrowania kana³em bezpiecznym
(tzn. gwarantuj±cym poufno¶æ). Dziêki temu, u¿ywaj±c PGP, mog± ze sob±
korespondowaæ osoby, dla których poczta elektroniczna (kana³ niepoufny) jest
<b>jedyn±</b> form± kontaktu.

<a name="jak">
<h2>Jak to dzia³a?</h2></a>
Na czym polega ró¿nica miêdzy kryptosystemem "tradycyjnym", a metod± klucza
publicznego? W najwiêkszym uproszczeniu: szyfr "tradycyjny" wymaga³ u¿ycia
<b>tego samego</b> klucza do szyfrowania i odszyfrowywania. Klucz ten zatem
musia³ byæ wcze¶niej uzgodniony przez porozumiewaj±ce siê strony, i to z u¿yciem
kana³u bezpiecznego (zapewniaj±cego poufno¶æ i integralno¶æ) - w przeciwnym
razie istnia³oby ryzyko przechwycenia klucza przez osoby trzecie, co da³oby
tym osobom mo¿liwo¶æ zarówno odczytywania szyfrowanych komunikatów, jak i
ich podrabiania (fa³szowania). W metodzie klucza publicznego, pojedynczy klucz
zast±piony jest par± kluczy: jeden z nich s³u¿y do zaszyfrowania listu, drugi
do odszyfrowania. Znajomo¶æ klucza szyfrowania <b>nie wystarczy</b> do
deszyfracji listu, ani do odtworzenia klucza deszyfrowania.
<hr>

Dla dociekliwych: efekt ten osi±gniêty jest przez odpowiedni± konstrukcjê
algorytmu szyfrowania/deszyfrowania. Klucz deszyfrowania bazuje na parze
du¿ych liczb pierwszych, klucz szyfrowania za¶ - na ich iloczynie. Znajomo¶æ
iloczynu 2 liczb pierwszych nie wystarczy do znalezienia tych liczb - a raczej,
wystarczy, lecz dla odpowiednio du¿ych liczb (rzêdu 10 do potêgi 100) operacja
taka zajmuje ca³e lata, nawet na najszybszych dostêpnych komputerach.
<hr>

Co za tym idzie, tylko klucz deszyfrowania musi pozostaæ sekretem swego
w³a¶ciciela (i dlatego nazywany jest "kluczem prywatnym"). Klucz szyfrowania
mo¿e byæ udostêpniony ogó³owi - st±d termin "klucz publiczny". Dowolna osoba,
chc±ca wys³aæ tajn± wiadomo¶æ do w³a¶ciciela tego klucza, u¿ywa klucza
publicznego w celu zaszyfrowania tre¶ci listu. List ten odszyfrowaæ mo¿e tylko
osoba bêd±ca w posiadaniu klucza prywatnego zwi±zanego z tym kluczem publicznym
- w domy¶le: w³a¶ciciel klucza.
<p>
W tym miejscu nale¿y podkre¶liæ, ¿e ¿aden kryptosystem nie jest silniejszy
od swego najs³abszego ogniwa, którym z regu³y okazuje siê u¿ytkownik. Je¿eli
u¿ytkownik nie dba we w³a¶ciwy sposób o tajno¶æ swego klucza prywatnego, nawet
PGP nie zapewni mu nale¿ytej prywatno¶ci. Najbardziej wskazanym sposobem
przechowywania klucza prywatnego jest dyskietka, noszona przy sobie lub
trzymana w zamkniêciu. W drugiej kolejno¶ci, dysk twardy komputera dostêpnego
tylko w³a¶cicielowi. Nastêpnie, konto w systemie wielodostêpnym takim jak Unix.
Dysk komputera klasy PC dostêpnego dla innych osób ni¿ w³a¶ciciel klucza
<b>zdecydowanie</b> nie jest w³a¶ciwym miejscem przechowywania klucza!
<p>
Zastosowany w PGP algorytm szyfrowania kluczem publicznym nosi nazwê
<b>RSA (Rivest-Shamir-Adleman)</b> - jak ³atwo zgadn±æ, otrzyma³ j± od nazwisk
jego twórców. Algorytm ten jest w USA opatentowany, a ponadto podlega
restrykcjom eksportowym ITAR (podobnie jak wszelkie algorytmy i programy maj±ce
zwi±zek z kryptografi±) i nie mo¿e byæ u¿ywany w programach wywo¿onych z USA.
Dlatego te¿ istniej± 3 aktualne wersje PGP:

<ol>
<li>"tylko USA", która wykorzystuje licencjonowany kod firmy
<a href="http://www.rsa.com/">RSA Data Security, Inc.,</a>
bêd±cej posiadaczem patentu
i nie mo¿e byæ eksportowana poza USA, opracowana z udzia³em Phila Zimmermanna
w MIT;

<li>wersja komercyjna, równie¿ osi±galna tylko w USA, opracowana przez firmê
ViaCrypt na podstawie licencji Phila Zimmermanna;

<li>oraz wersja "miêdzynarodowa", któr± opracowa³ Stale Schumacher
 &lt;staalesc@ifi.uio.no&gt;, a która opiera siê na
implementacji algorytmu RSA napisanej poza USA, niezale¿nie od firmy RSA.
Jest to jedyna wersja, jakiej mo¿na u¿ywaæ poza USA, nie gwa³c±c amerykañskich
przepisów eksportowych.
</ol>
Wszystkie te wersje s± wzajemnie zgodne.
<hr>
Dla dociekliwych: PGP nie szyfruje ca³ego dokumentu (np. listu) z u¿yciem
algorytmu RSA - poniewa¿ jest on do¶æ powolny, trwa³oby to bardzo d³ugo.
Zamiast tego, PGP szyfruje z u¿yciem RSA pewn± wygenerowan± losowo
liczbê 128-bitow±, która nastêpnie jest u¿ywana jako klucz szyfrowania
w³a¶ciwego dokumentu (np. listu) "tradycyjnym" algorytmem IDEA.
Przy deszyfracji, PGP odszyfrowuje klucz IDEA z u¿yciem prywatnego klucza
RSA odbiorcy, a nastêpnie kluczem IDEA odszyfrowuje list. W zasadzie zatem
PGP jest po³±czeniem "tradycyjnego" kryptosystemu bazuj±cego na kluczu
przekazanym kana³em bezpiecznym (innym dla ka¿dej wiadomo¶ci),
i kryptosystemu opartego o metodê klucza publicznego, który zapewnia
ten bezpieczny kana³).
<hr>

<a name="skad">
<h2>Sk±d to wzi±æ?</h2></a>

PGP jest dostêpne w wersji ¼ród³owej w C (dla Unixa i VMS) oraz w postaci
binariów dla systemu MS-DOS i Macintosh na wielu serwerach FTP, m.in.
<dl>
<dt>w Finlandii:
<dd><a href="ftp://ftp.funet.fi/pub/crypt/cypherpunks/pgp/pgp262/">
ftp://ftp.funet.fi/pub/crypt/cypherpunks/pgp/pgp262/</a>.
<dt>w Szwecji:
<dd><a href="ftp://ftp.sunet.se/pub/security/tools/crypt/pgp">
ftp://ftp.sunet.se/pub/security/tools/crypt/pgp</a>
<dt>w Polsce:
<dd><a href="ftp://pipeta.chemia.pk.edu.pl/pub/pgp/">
ftp://pipeta.chemia.pk.edu.pl/pub/pgp/</a> - <b>wersja spolszczona!</b>
<dd><a href="http://www.agh.edu.pl/pub/security/pgp/">
http://www.agh.edu.pl/pub/security/pgp/</a>
<dd><a href="ftp://ftp.agh.edu.pl/pub/security/pgp/">
ftp://ftp.agh.edu.pl/pub/security/pgp/</a>
<dd><a href="ftp://ftp.pwr.wroc.pl/pub/security/pgp/">
ftp://ftp.pwr.wroc.pl/pub/security/pgp/</a>
</dl>
Aktualn±, w momencie pisania tego tekstu, wersj± jest PGP 2.6.3
<img src="/img/new_trailing.gif" alt="NEW!">.
Istnieje równie¿ wersja komercyjna (dostêpna tylko w USA) opracowana przez
firmê ViaCrypt na podstawie licencji Phila Zimmermanna, aktualn± wersj±
jest 2.7.1.

<a name="uzycie">
<h2>Jak siê tego u¿ywa?</h2></a>

<a name="generacja">
<h3>Generowanie klucza</h3></a>
PGP jest programem stosunkowo ³atwym w obs³udze. Pierwszym krokiem po jego
instalacji jest wygenerowanie swojego klucza prywatnego i publicznego. S³u¿y
do tego (w Unixie i MS-DOS) komenda:
<pre>
    pgp -kg
</pre>
Po wydaniu tej komendy, program pyta o d³ugo¶æ klucza. Mo¿na wybraæ jedn±
ze standardowych d³ugo¶ci (384, 512, 1024 bity) lub w³asn±, z przedzia³u
504-2048 bitów. Nastêpnie pojawia siê pytanie o <em>identyfikator</em>
u¿ytkownika, który powinien jednoznacznie okre¶laæ w³a¶ciciela klucza.
Zazwyczaj identyfikator podajemy w postaci:
<pre>
    Imiê Nazwisko &lt;email-address&gt;
</pre>
np.
<pre>
    Szymon Sokol &lt;szymon@uci.agh.edu.pl&gt;
</pre>
<p>
Kolejne pytanie odnosi siê do tzw. <em>passphrase</em>, czyli has³a s³u¿±cego
do odblokowania klucza. Jest to dodatkowe zabezpieczenie, maj±ce na celu
utrudnienie pos³u¿enia siê skradzionym cudzym kluczem prywatnym. Has³o to
nie pojawia siê na ekranie w czasie wpisywania, i mo¿e byæ znacznie d³u¿sze
ni¿ has³o u¿ytkownika systemu Unix (te bowiem s± zwykle ograniczone do
8 znaków). Nastêpnie has³o nale¿y wpisaæ powtórnie, w celu weryfikacji.
PGP bêdzie pytaæ o to has³o za ka¿dym razem, gdy u¿ytkownik bêdzie chcia³
odszyfrowaæ list przeznaczony dla niego lub sygnowaæ w³asny list - w tych
bowiem sytuacjach nastêpuje odwo³anie do klucza prywatnego.
<p>
Zarówno has³o jak i identyfikator mo¿esz pó¼niej zmieniæ komend±
<pre>
    pgp -ke user
</pre>
gdzie <code>user</code> jest identyfikatorem Twojego klucza (lub jego czê¶ci±).
<p>
Nastêpnie program prosi o wpisanie kilkudziesiêciu znaków dowolnego tekstu -
istotny tu jest nie sam tekst, ale odstêpy czasowe miêdzy naci¶niêciami
klawiszy, które s³u¿± jako ¼ród³o "naprawdê losowej" liczby, u¿ytej nastêpnie
do tworzenia klucza. W ten sposób PGP uzyskuje praktyczn± niepowtarzalno¶æ
kluczy. Komunikat "Key generation completed" zwiastuje utworzenie kluczy:
prywatnego i publicznego. Klucz prywatny znajdzie siê w pliku
<code>secring.pgp</code>; klucz publiczny - w <code>pubring.pgp</code>.
Ten pierwszy nale¿y umie¶ciæ w bezpiecznym miejscu;
ten drugi - jak najszerzej rozpropagowaæ.

<a name="rozpowszechnianie">
<h3>Rozpowszechnianie kluczy publicznych</h3></a>
Je¿eli chcesz, aby ludzie pisz±c do Ciebie korzystali z PGP,
musisz zadbaæ o to, aby Twój klucz publiczny sta³ siê powszechnie znany.
Oto kilka sposobów na rozpowszechnienie swojego klucza:
<ul>
<li>umie¶ciæ go w swoim <em>sigblocku</em> (tzn. podpisie umieszczanym pod
listami czy artyku³ami USENETowymi);  Nie jest to jednak dobry
pomys³, gdy¿ klucz zajmuje zwykle co najmniej 5-6 linii, a "dobra"
sygnaturka nie powinna mieæ wiêcej ni¿ 4 linie.
<li>albo w pliku <code>~/.plan</code>, którego zawarto¶æ jest wypisywana przez
komendê <code>finger</code>;  W <em>sigblocku</em> wystarczy wówczas
umie¶ciæ krótk± informacjê, ¿e klucz PGP osi±galny jest po wykonaniu
"finger TwójLogin@Twój.Komputer"
<li>albo na swojej stronie WWW;
<li>mo¿na nawet wydrukowaæ go na swej wizytówce, choæ to zakrawa na pewn±
ekstrawagancjê;
<li><a name="serwery_pgp">
mo¿na umie¶ciæ go w specjalnej bazie danych, tzw. <em>key serwerze</em> -
obecnie na terenie Polski istniej± dwa, pod adresami:
<ul>
<li><b>pgp-public-keys@mimuw.edu.pl</b>
<li><img src="/img/new_preceeding.gif" alt="NEW! ">
<b>pgp-public-keys@keys.pl.pgp.net</b>.
</ul>
Na ¶wiecie serwery takie dzia³aj± pod nastêpuj±cymi adresami:</a>
<ul>
<li>pgp-public-keys@burn.ucsd.edu
<li>pgp-public-keys@pgp.cc.gatech.edu
<li>pgp-public-keys@goliat.upc.es
<li>pgp-public-keys@demon.co.uk
<li>pgp-public-keys@dsi.unimi.it
<li>pgp-public-keys@ext221.sra.co.jp
<li>pgp-public-keys@fbihh.informatik.uni-hamburg.de
<li>pgp-public-keys@jpunix.com
<li>pgp-public-keys@kiae.su
<li>pgp-public-keys@kr.com
<li>pgp-public-keys@kram.org
<li>pgp-public-keys@kub.nl
<li>pgp-public-keys@mimuw.edu.pl
<li>pgp-public-keys@nexus.hpl.hp.com
<li>pgp-public-keys@pgp.ai.mit.edu
<li>pgp-public-keys@pgp.barclays.co.uk
<li>pgp-public-keys@gondolin.org
<li>pgp-public-keys@pgp.dhp.com
<li>pgp-public-keys@pgp.hpl.hp.com
<li>pgp-public-keys@pgp.iastate.edu
<li>pgp-public-keys@pgp.kr.com
<li>pgp-public-keys@pgp.mit.edu
<li>pgp-public-keys@pgp.ox.ac.uk
<li>pgp-public-keys@pgp.pipex.net
<li>pgp-public-keys@srce.hr
<li>pgp-public-keys@sw.oz.au
<li>pgp-public-keys@uit.no
<li>pgp-public-keys@vorpal.com
<li>pgp-public-keys@nic.surfnet.nl
</ul>
Serwery powy¿sze dostêpne s± przez e-mail (wy¶lij list ze s³owem
<code>help</code> w polu <code>Subject:</code> na jeden z w/w adresów,
aby dowiedzieæ siê szczegó³ów).  Natomiast w wyniku zadania konkretnych
pytañ, polegaj±cych na wyszukaniu czyjego¶ klucza PGP, serwer, po znalezieniu
klucza (o ile klucz taki istnieje w bazie kluczy serwera), przesy³a go
"opakowuj±c" go w kodowanie ASCII.  List taki nale¿y zapisaæ do pliku, a
nastêpnie wykonaæ <code>pgp nazwa_pliku</code>, a program PGP sam rozpozna,
co w li¶cie tym siê znajduje.  Istniej± równie¿ bramki udostêpniaj±ce te
serwery przez WWW:

<ul>
<li><a href="http://www-swiss.ai.mit.edu/~bal/pks-toplev.html">
http://www-swiss.ai.mit.edu/~bal/pks-toplev.html</a>
<li><a href="http://www-lsi.upc.es/~alvar/pks/pks-toplev.html">
http://www-lsi.upc.es/~alvar/pks/pks-toplev.html</a>
</ul>

<li>i wreszcie, mo¿na rozpowszechniaæ klucze przez znajomych,
"poczt± pantoflow±".
</ul>
<p>

<a name="uzyskiwanie">
<h3>Uzyskiwanie kluczy publicznych innych osób</h3></a>

Sposób uzyskiwania kluczy publicznych innych osób zale¿y oczywi¶cie
od sposobu, w jaki one swój klucz rozpowszechniaj±.  Najczê¶ciej
mo¿na go uzyskaæ wykonuj±c komendê <code>finger</code>, podaj±c jako
argument adres e-mail osoby, której klucz chcemy uzyskaæ.  Jednak¿e
adres, z jakiego osoba ta pisuje zazwyczaj listy, nie musi byæ
adresem konta w systemie UNIX, a wiêc finger z podanym adresem mo¿e
w ogóle nie dzia³aæ.  Wówczas pozostaje sprawdziæ stronê WWW tej
osoby (o ile j± posiada), skorzystaæ z us³ug <a href="#serwery_pgp">serwerów
kluczy PGP</a> lub HTMLowych bramek, albo po prostu napisaæ do tej osoby
(lub innych swoich znajomych) list z pro¶b± o przes³anie klucza.
<p>

Przy ka¿dym z tych rozwi±zañ, zw³aszcza przy tym ostatnim, osoba, która
otrzymuje klucz, powinna zastanowiæ siê: <cite>czy mam pewno¶æ, ze klucz ten
<b>naprawdê</b> nale¿y do osoby, której nazwisko widnieje na kluczu?</cite>
Przypominam, ¿e identyfikator zwi±zany z kluczem jest podawany przez
u¿ytkownika w chwili tworzenia klucza; nic nie stoi na przeszkodzie abym np.
ja wygenerowa³ klucz publiczny (i tym samym posiada³ odpowiadaj±cy mu klucz
prywatny) o identyfikatorze:
<pre>
    Bill Clinton &lt;president@whitehouse.gov&gt;
</pre>
Je¶li kto¶ da siê oszukaæ i bêdzie u¿ywa³ fa³szywego klucza, pisz±c listy do danej
osoby, skutki mog± byæ dwojakie:
<ul>
<li>osoba ta nie bêdzie w stanie (nie maj±c w³a¶ciwego klucza prywatnego) ich
przeczytaæ;
<li>fa³szerz bêdzie w stanie je przeczytaæ, je¶li w jaki¶ sposób listy te
dostan± siê w jego rêce
</ul>
Ponadto, fa³szerz mo¿e sygnowaæ swoje listy posiadanym przez siebie kluczem
prywatnym, a wszyscy posiadacze fa³szywego klucza publicznego z nim zwi±zanego
bêd± uwa¿aæ je za prawdziwe.
<p>
Z tych powodów istotna jest pewno¶æ, ¿e klucz publiczny, który w³a¶nie
w ten czy inny sposób pozyskali¶my, nale¿y naprawdê do osoby, do której wydaje
siê nale¿eæ. Zapewnieniu tego s³u¿± <em>certyfikaty kluczy</em>.
<p>
Certyfikowanie czyjego¶ klucza to nic innego, jak sygnowanie go swoim w³asnym -
ma to na celu potwierdzenie jego autentyczno¶ci. Je¶li u¿ytkownik A otrzyma
klucz publiczny u¿ytkownika B bezpo¶rednio od niego, to zapewne jest to
naprawdê klucz u¿ytkownika B. Ale je¶li otrzymuje go od u¿ytkownika C, któremu
niekoniecznie ufa, i podejrzewa, ¿e w rzeczywisto¶ci klucz ten mo¿e byæ
sfa³szowany przez C? Có¿, je¶li klucz ten jest certyfikowany przez pewnego
innego u¿ytkownika D (któremu A ufa, i którego klucz publiczny ju¿ ma),
i sygnatura siê zgadza, to A zyskuje pewno¶æ, ¿e klucz przekazany przez C
jest zgodny z orygina³em. Oczywi¶cie A zak³ada w tym momencie, ¿e D w chwili
certyfikowania tego klucza mia³ 100% pewno¶ci, ¿e klucz ten nale¿y do
B - albo dlatego, ¿e otrzyma³ go od B bezpo¶rednio, albo dlatego, ¿e klucz
by³ certyfikowany przez kolejn± osobê, do której D mia³ zaufanie.
<p>
Nale¿y z tego wysnuæ jeden wniosek: <b>NIGDY</b> nie certyfikuj cudzego klucza,
je¶li nie masz pewno¶ci, ¿e nie jest on fa³szywy.
W przeciwnym razie osoby, które nastêpnie ten klucz od Ciebie otrzymaj±, bêd±
s±dziæ, ¿e tak± pewno¶æ mia³e¶ i u¿ywaæ (byæ mo¿e fa³szywego) klucza z powodu
zaufania do Ciebie.
<p>

Tu przy okazji warto wspomnieæ o jeszcze jednej mo¿liwo¶ci
sprawdzenia autentyczno¶ci klucza.  W momencie dodawania nowego
klucza do kó³ka kluczy publicznych lub w trakcie sygnowania klucza,
program PGP drukuje co¶, co nazwane jest <em>Key fingerprint</em>, czyli
"odcisk palca".  Jest to kilkana¶cie liczb przedstawionych w
postaci heksadecymalnej, a wygl±daæ mo¿e np. tak:<p>

<pre>
    Key for user ID: Szymon Sokol &lt;szymon@uci.agh.edu.pl&gt;
    512-bit key, Key ID 61094A7D, created 1993/08/26
    Key fingerprint =  D4 43 F5 80 AA 9F 8C 3F  CC 53 47 CA C8 88 22 A5
</pre>

Odcisku tego u¿yæ mo¿na do weryfikacji klucza innym kana³em,
niekoniecznie bezpiecznym z punktu widzenia kryptografii, ale daj±cym
nam pewno¶æ, ¿e po drugiej stronie jest osoba, której siê spodziewamy.
Je¶li znamy w³a¶ciciela klucza osobi¶cie, mo¿e to byæ np. sprawdzenie
"odcisku klucza" przez telefon.  W innych przypadkach pozostaje albo
osobiste spotkanie z w³a¶cicielem klucza, albo zaufanie do sygnatur ju¿ siê
w tym kluczu znajduj±cych.
<p>

<a name="zarzadzanie">
<h3>Zarz±dzanie kluczami</h3></a>
Kiedy ju¿ weszli¶my w posiadanie klucza publicznego innej osoby, aby móc
z niego korzystaæ nale¿y do³±czyæ go do swojego kó³ka z kluczami
(<em>keyring</em>). Kó³ko z kluczami to nic innego, jak plik zawieraj±cy
wiele kluczy w odpowiednim formacie - zazwyczaj bêdzie to to samo kó³ko,
na którym znajduje siê klucz publiczny w³a¶ciciela, tzn.
<code>pubring.pgp</code>. W celu dodania do kó³ka klucza, który znajduje siê
w pliku <code>klucz</code>, nale¿y u¿yæ komendy:
<pre>
    pgp -ka klucz
</pre>
Pojawi siê byæ mo¿e pytanie, czy chcesz certyfikowaæ klucz zawarty w tym pliku
(je¶li jeszcze tego nie zrobi³e¶). Je¶li klucz ten ju¿ istnieje w Twoim kó³ku,
to nie bêdzie dodany, w przeciwnym razie zostanie do³±czony do kó³ka.
Ponadto, program mo¿e spytaæ o tzw. <em>parametry zaufania
(trust parameters)</em>, jakie nale¿y przypisaæ danemu kluczowi.
Parametry zaufania klucza okre¶laj±, czy klucze innych u¿ytkowników maj± byæ
uznawane za pewne, je¶li s± sygnowane tym kluczem (patrz:
<a href="#sygnowanie">Sygnowanie i sprawdzanie sygnatur</a>).
<p>
Sprawdziæ zawarto¶æ swojego kó³ka mo¿na komend±:
<pre>
    pgp -kv
</pre>
Ponadto, komend±
<pre>
    pgp -kvv
</pre>
mo¿na sprawdziæ, przez kogo s± certyfikowane poszczególne klucze w naszym
kó³ku, za¶ komenda
<pre>
    pgp -kvc
</pre>
pozwala uzyskaæ tzw. <em>fingerprints</em> czyli "odciski palców" - swego
rodzaju sumê kontroln± klucza, któr± mo¿na np. przedyktowaæ przez telefon w
celu porównania z <em>fingerprint</em> oryginalnego klucza, je¶li chcemy siê
upewniæ, ¿e klucz, który od kogo¶ otrzymali¶my np. przez e-mail, nie by³
po drodze (celowo lub przypadkiem) zniekszta³cony.
<p>
Je¿eli chcemy usun±æ klucz z kó³ka (np. w±tpimy w jego prawdziwo¶æ, albo
w³a¶ciciel powiadomi³ nas, ¿e zmienia klucz na nowy), u¿yæ nale¿y komendy:
<pre>
    pgp -kr ident
</pre>
gdzie <code>ident</code> jest identyfikatorem zwi±zanym z usuwanym kluczem.
Mo¿na (tak w tym wypadku, jak i zawsze, gdy wymagane jest podanie
identyfikatora klucza) podaæ tylko czê¶æ identyfikatora - np. w celu usuniêcia
mojego klucza z kó³ka wystarczy prawdopodobnie komenda:
<pre>
    pgp -kr szymon
</pre>
chyba, ¿e inny klucz w kó³ku równie¿ zawiera ten cz³on w identyfikatorze.
W takim przypadku operacja zostanie wykonana na pierwszym pasuj±cym kluczu,
niekoniecznie na tym, o który chodzi³o.
<p>
Komenda
<pre>
    pgp -ke user
</pre>
gdzie <code>user</code> jest identyfikatorem klucza (lub jego czê¶ci±),
pozwala zmieniæ has³o i/lub identyfikator zwi±zane z Twoim kluczem (je¶li
podasz identyfikator w³asnego klucza) albo zmieniæ parametry zaufania
je¶li poda³e¶ identyfikator klucza innej osoby.
<p>
I wreszcie, aby stworzyæ w osobnym pliku kopiê jednego klucza z kó³ka (np.
w celu wys³ania go komu¶) nale¿y siê pos³u¿yæ komend±:
<pre>
    pgp -kx ident
</pre>
lub
<pre>
    pgp -kxa ident
</pre>
Ró¿nica miêdzy tymi dwiema formami polega na zastosowaniu tzw. <em>ASCII
armor</em> (dos³ownie "pancerz ASCII", ja jednak proponowa³bym okre¶lenie
"opakowanie ASCII") w drugim przypadku (tzn. przy u¿yciu opcji -a). Bez opcji
-a PGP wyekstrahuje klucz w postaci binarnej; u¿ycie opcji -a powoduje, ¿e
klucz zostanie potraktowany algorytmem podobnym do <em>BinHex</em> czy
<em>uuencode</em>, tak ¿e w otrzymanym pliku wszystkie znaki bêd± nale¿a³y
do podstawowego zestawu kodów ASCII (znaki alfanumeryczne i przestankowe).
Dziêki temu mo¿na go wys³aæ e-mailem albo umie¶ciæ na stronie WWW.
PGP spyta o nazwê pliku, w którym ma umie¶ciæ klucz. Oto mój klucz publiczny
wyekstrahowany z kó³ka w ten sposób:
<pre>
-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: 2.6

mQBNAix834YAAAECALK1O6N3N3aE6K7FH6XwHVyPdLVccs5K3pXasPPWcVOLMDmi
SKUqyU3zrtU5OS7L6cILTH3DauLa9jnnbmEJSn0ABRG0JFN6eW1vbiBTb2tvbCA8
c3p5bW9uQHVjaS5hZ2guZWR1LnBsPg==
=fgsC
-----END PGP PUBLIC KEY BLOCK-----
</pre>
Mo¿esz go do³±czyæ do swojego kó³ka zapisuj±c go do pliku, a nastêpnie
u¿ywaj±c omówionej wcze¶niej komendy <code>pgp -ka</code>. Ale czy jeste¶
<b>pewien</b>, ¿e ten dokument otrzyma³e¶ w nienaruszonej wersji i mój klucz
podany powy¿ej jest prawdziwy? <img src="/img/smiley3.gif" alt=";-) ">

<a name="sygnowanie">
<h3>Sygnowanie i sprawdzanie sygnatur</h3></a>

Za³ó¿my teraz, ¿e w pliku o nazwie <code>list</code> znajduje siê list, który
chcia³bym sygnowaæ moim podpisem w sposób uniemo¿liwiaj±cy manipulacjê.
W tym celu wydajê komendê:
<pre>
    pgp -s list
</pre>
PGP zapyta o has³o, a nastêpnie umie¶ci list z <em>sygnatur±</em> (podpisem)
PGP w pliku <code>list.pgp</code>. W przypadku u¿ycia opcji -a:
<pre>
    pgp -sa list
</pre>
plik wyj¶ciowy nosi nazwê <code>list.asc</code> i podobnie jak w
przyk³adzie ekstrahowania klucza z kó³ka (patrz:
<a href="#zarzadzanie">Zarz±dzanie kluczami</a>,
jest sprowadzony do postaci ASCII.
Poniewa¿ wiêkszo¶æ mailerów nie umo¿liwia przesy³ania plików binarnych,
zazwyczaj bêdziemy u¿ywaæ tej opcji (patrz te¿:
<a href="#konfiguracja">Konfiguracja PGP</a>).  Sygnowany list nie
bêdzie jednak czytelny "od razu", tzn. aby dostaæ siê do jego tre¶ci
konieczne jest u¿ycie programu PGP.  Chyba, ¿e u¿yjemy dodatkowej
opcji "+clear", a wówczas tre¶æ listu zostaje w postaci oryginalnej,
a sygnatura zostaje do³±czona na koñcu.
<p>
Przyk³adowy list, sygnowany za pomoc± komendy <code>pgp -sa +clear list</code>
mo¿e wygl±daæ tak:
<pre>
-----BEGIN PGP SIGNED MESSAGE-----

To jest list sygnowany PGP:

Bylo smaszno, a jaszmije smukwijne
Swidrokretnie na zegwniku wezaly,
Peliczaple staly smutcholijne
I zblakinie rykoswistakaly.

    [DZABBERSMOK (Lewis Carroll, tlum. Maciej Slomczynski)]

- --
                       Szymon Sokol -- Network Manager
U    U M     M M     M University of Mining and Metallurgy, Computer Center
U    U MM   MM MM   MM ave. Mickiewicza 30, 30-059 Krakow, POLAND
U    U M M M M M M M M TEL. +48 (12) 172885, 172894   FAX +48 (12) 338907
 UUUU  M  M  M M  M  M WWW page: http://galaxy.uci.agh.edu.pl/~szymon/


-----BEGIN PGP SIGNATURE-----
Version: 2.6

iQBVAgUBMB+CUfY5525hCUp9AQGQhwIAlzpOIKjrR6EnmSFYSl3i7CbnYVFQlUPz
FCxpncHEcNicTeCg8ys8y8hl7NUhbSggNcDFdJRRIV+mxz9QozAWtA==
=gLDy
-----END PGP SIGNATURE-----
</pre>
Sygnatura do³±czona na koñcu listu, jest wygenerowana na podstawie
obliczanej w specjalny sposób sumy kontrolnej listu i mojego klucza
prywatnego PGP. Ka¿dy, kto dysponuje moim kluczem publicznym, mo¿e sprawdziæ,
¿e:
<ol>
<li>list ten zosta³ podpisany moim kluczem prywatnym;
<li>i nie by³ potem w ¿aden sposób modyfikowany, tzn. nie zmieni³a siê,
podlegaj±ca sumowaniu, czê¶æ zawarta pomiêdzy liniami
<pre>
-----BEGIN PGP SIGNED MESSAGE-----
</pre>i<pre>
-----BEGIN PGP SIGNATURE-----
</pre>
</ol>
W tym celu nale¿y pos³u¿yæ siê komend±:
<pre>
    pgp nazwapliku
</pre>
(przy za³o¿eniu, ¿e sygnowany dokument znajduje siê w pliku o nazwie
<code>nazwapliku</code> - nie musi to byæ ta sama nazwa, jak± nosi³ oryginalny
plik utworzony przeze mnie).
PGP zasygnalizuje poprawno¶æ sygnatury komunikatem:
<pre>
    Good signature from "Szymon Sokol &lt;szymon@uci.agh.edu.pl&gt;"
</pre>
W przypadku, gdyby list by³ sygnowany innym kluczem prywatnym ni¿ ten,
stowarzyszony z moim kluczem publicznym, albo gdyby list uleg³ modyfikacji,
komunikat brzmi odpowiednio:
<pre>
    Bad signature from "Szymon Sokol &lt;szymon@uci.agh.edu.pl&gt;"
</pre>

<a name="szyfrowanie">
<h3>Szyfrowanie i deszyfrowanie</h3></a>
W celu zaszyfrowania listu znajduj±cego siê w pliku <code>list</code>
u¿yæ nale¿y komendy:
<pre>
    pgp -e list adresat1 adresat2 -o szyfr
</pre>
gdzie drugi (i ew. dalsze) parametry okre¶laj±, kto ma byæ adresatem listu
(tzn. s± to identyfikatory kluczy, które maj± byæ wykorzystane do szyfrowania),
za¶ po opcji -o wystêpuje nazwa pliku wyj¶ciowego.
<hr>
Dla dociekliwych: warto zwróciæ uwagê na mo¿liwo¶æ wyspecyfikowania wiêcej
ni¿ jednego adresata - oznacza to, ¿e do listu zaszyfrowanego losowym kluczem
IDEA klucz ten jest do³±czany w kilku egzemplarzach, za ka¿dym razem
zaszyfrowany kluczem publicznym innego odbiorcy.
<hr>
Zaszyfrowany list zostanie umieszczony w pliku <code>szyfr.pgp</code>
(lub <code>szyfr.asc</code> je¿eli podano dodatkowo opcjê -a (patrz:
<a href="#sygnowanie">Sygnowanie i sprawdzanie sygnatur</a>).
W razie niepodania opcji -o i nazwy pliku wyj¶ciowego, plik wyj¶ciowy bêdzie
mia³ nazwê tak± jak wej¶ciowy, z rozszerzeniem .pgp lub .asc (w tym wypadku,
<code>list.pgp</code> lub <code>list.asc</code>).
<p>
Oto przyk³adowy list zaszyfrowany komend±
<pre>
    pgp -ea list adresat1 adresat2 adresat3
</pre>
(tak, ten list ma troje adresatów - sprawd¼, mo¿e jeste¶ jednym z nich?
<img src="/img/smiley3.gif" alt=";-) ">):
<pre>
-----BEGIN PGP MESSAGE-----
Version: 2.6

hEwC5Mig00W5xYkBAfoCNVVN4VarAM2/LaOhb+d6ShJzI7WAj5MgOFNam9Oex1su
xjBt1fGPz0w6gnYte+ZDMa7bYY2zf13ar/6PK7eDhIwCGyKDllahUg0BBACJBNWh
2xm1qx5Ri7BvtBGd2WfsYDVN6/3ITnP/+ga3Qc7Fewt0+xg6xEwOBuuYgPzy2c87
ecvBkrYBEWpmcluTilOGAzgR7KvsNNRl4ivdMuOZkrtEiZgBh0UiAvdAtAy0uyGv
Bk1C0yH9kky0/CgymxBAN2WG+VkIIDnYkMfGS4RMAu8goAGt1oeNAQH+MdRYO0Ym
e8KdsVhJdFcGpNfMN89EV+22rZcbaqqfKNbTWwRjAqcELLyPgumDYm3PLLImhKqz
z4omXe/bs4MLl6YAAAEyXrG1Ki2f4kkl+ynt7ctWgLNkYsDMnPqnA/15DPwcxOmD
AFnggdXvBXUB3DS5WAZl5ZnWHxodnkdhXhBfpIC09Q3hBLX0qUD+j25yjYwIMSZp
5/a74PkAiYAfFJkM7zB4blGYy/nrCEtmINIe/M//MyNzfkcOhtn4+PN6pkJXZDT0
17ggQ6FWUS3IYu783v89I0rB+gDdC7L86Fsd6NZtzvmX33c7otWWpCLHaROJ1F78
rRsuyacMNYFB8QeYwXHiddu+lVlhRCNUFvpIitnrsiSJw90Y8FZ/zVBjDumL0ZqI
I7I1Q8OU+LWnsRpZz5j0acdkLwKj7opLIQ4gxpM6nHe96LkW+eqr9UvmkH7Zkb9f
hsoqVHez+/21paH9zG9webCQXwKftHeQ/FXcQCGVgJQN
=zZIC
-----END PGP MESSAGE-----
</pre>
Jak widaæ, nikt poza adresatami tego listu nie bêdzie w stanie odczytaæ go.
Deszyfrowanie listu odbywa siê identycznie jak sprawdzanie poprawno¶ci
sygnatury - komenda:
<pre>
    pgp szyfr.asc -o list
</pre>
zdeszyfruje zaszyfrowany list, znajduj±cy siê w pliku szyfr.asc, a tekst
odszyfrowany umie¶ci w pliku <code>list</code> (lub w razie niepodania
nazwy pliku wyj¶ciowego, w pliku o nazwie takiej, jak plik wej¶ciowy).
Je¿eli plik wyj¶ciowy o danej nazwie istnieje, PGP pyta o zgodê na nadpisanie
go; w razie niewyra¿enia zgody, pyta o now± nazwê pliku.
<p>
Istnieje te¿ mo¿liwo¶æ równoczesnego sygnowania i szyfrowania listu - nale¿y
u¿yæ opcji -e i -s razem:
<pre>
    pgp -es list adresat1 adresat2 -o szyfr
</pre>
(oczywi¶cie opcja -a nadal mo¿e byæ u¿yta).

<a name="inne">
<h3>Inne mo¿liwo¶ci PGP</h3></a>

PGP mo¿e byæ u¿yte do tworzenia (i sprawdzania) tzw. <em>detached
signatures</em>, czyli sygnatur nie bêd±cych czê¶ci± dokumentu, lecz
zapisanych w osobnym pliku:
<pre>
    pgp -sb plik
</pre>
spowoduje utworzenie sygnatury dla pliku <code>plik</code> w pliku
<code>plik.sig</code>. Aby sprawdziæ, ¿e sygnatura odnosi siê do danego pliku,
nale¿y podaæ wówczas komendê:
<pre>
    pgp plik.sig plik
</pre>
Mechanizm ten mo¿e byæ stosowany np. przez autorów oprogramowania w celu
ochrony przed wirusami i koniami trojañskimi lub z³o¶liw± ingerencj±:
wystarczy do programu do³±czyæ osobny plik z sygnatur±, aby u¿ytkownik
móg³ sprawdziæ, czy program nie zosta³ poddany modyfikacji.
<p>

Czêsto spotykan± dzi¶ praktyk± jest generowanie specjalnych par kluczy
s³u¿±cych w³a¶nie wy³±cznie weryfikacji kolejnych wersji programów
rozpowszechnianych przez sieæ.  Np. wraz z wersj± 1.0.0 programu
"secure shell" (ssh-1.0.0.tar.gz) otrzymujemy klucz publiczny, którym
sprawdziæ mo¿emy wiarygodno¶æ tej wersji programu i wszystkich nastêpnych,
wszystkie bowiem sygnowane s± jednym kluczem, bêd±cym w posiadaniu autora
lub grupy autorów tego programu.
<p>

<a name="konfiguracja">
<h2>Konfiguracja PGP</h2></a>

<a name="zbior">
<h3>Zbiór konfiguracyjny</h3></a>
Zbiór konfiguracyjny PGP nosi nazwê <code>config.txt</code>. Mo¿e siê
znajdowaæ w dowolnym katalogu - katalog ten powinien byæ wskazywany przez
zmienn± ¶rodowiskow± PGPPATH. Np. w systemie MS-DOS mo¿emy j± ustawiæ komend±:
<pre>
    set PGPPATH=C:\PGP
</pre>
a w systemie Unix, w zale¿no¶ci od pow³oki (<em>shell</em>):
<pre>
    PGPPATH=$HOME/pgp ; export PGPPATH
</pre>
dla Bourne shell (<code>sh</code>) i pochodnych (<code>bash</code>,
<code>ksh</code>) lub
<pre>
    setenv PGPPATH ~/pgp
</pre>
dla C shell (<code>csh</code>) i pochodnych (<code>tcsh</code>).

Zawarto¶æ tego pliku sk³ada siê z linii postaci:
<pre>
    zmienna = warto¶æ
</pre>
oraz komentarzy nastêpuj±cych po znaku #. Przyk³adowo, plik konfiguracyjny
o tre¶ci:
<pre>
    ARMOR=ON
    MYNAME=Szymon
</pre>
spowoduje, ¿e:
<ol>
<li>PGP bêdzie siê zachowywaæ, jak gdyby u¿ytkownik zawsze podawa³ opcjê -a -
tzn. pliki wyj¶ciowe komenda takich jak:
<pre>
    pgp -kx user
</pre>
czy
<pre>
    pgp -es tekst user
</pre>
bêd± tekstowe raczej ni¿ binarne;
<li>Je¿eli u¿ytkownik nie za¿yczy sobie inaczej (za pomoc± opcji -u),
komendy wymagaj±ce u¿ycia klucza prywatnego (tzn. deszyfrowanie i sygnowanie)
bêd± siê odwo³ywaæ do klucza prywatnego zwi±zanego z identyfikatorem
<code>Szymon</code> (przydatne, je¶li posiadamy kilka par kluczy, np. o ró¿nej
d³ugo¶ci - klucz krótki, np. 384 bity, do normalnej korespondencji, a d³ugi,
np. 2048 bitów, do korespondencji ¶ci¶le tajnej);
</ol>

<a name="pomocnicze">
<h3>Programy pomocnicze</h3></a>

Dla MS-DOS, MS-Windows:
<pre>
http://www.ifi.uio.no/pgp/
ftp://oak.oakland.edu/SimTel/msdos/security/apgp22b.zip
ftp://oak.oakland.edu/SimTel/win3/security/pgpw40.zip
http://alpha.netaccess.on.ca/~spowell/crypto/pwf31.zip
ftp://ftp.netcom.com/pub/dc/dcosenza/pgpw40.zip
ftp://Sable.ox.ac.uk/pub
ftp://ftp.firstnet.net/pub/windows/winpgp/pgpw40.zip
http://www.firstnet.net/~cwgeib/welcom.html
ftp://ftp.netcom.com/pub/ec/ecarp/pgpwind.zip
http://www.eskimo.com/~joelm (Private Idaho)
ftp://ftp.eskimo.com/~joelm
http://www.xs4all.nl/~paulwag/security.htm
http://www.LCS.com/winpgp.html
ftp://mirrors.aol.com/mir01/circa/pub/pc/win3/util/pwf31.zip
http://netaccess.on.ca/~rbarclay/index.html
http://netaccess.on.ca/~rbarclay/pgp.html
ftp://ftp.leo.org/pub/comp/os/os2/crypt/gcppgp10.zip
ftp://ftp.leo.org/pub/comp/os/os2/crypt/pmpgp.zip
</pre>
Dla Macintosha:
<pre>
ftp://duke.bwh.harvard.edu:/pub/adam/mcip/MacPGP_icons.sit.hqx
ftp://duke.bwh.harvard.edu:/pub/adam/mcip/MacPGPkit.hqx
ftp://duke.bwh.harvard.edu:/pub/adam/mcip/MacPGPkitSources.sit.hqx
ftp://ftp.netcom.com/pub/dd/ddt/crypto/pgp_tools/MacPGPkit1.6.sit
ftp://ftp.netcom.com/pub/dd/ddt/crypto/pgp_tools/ChainMail.0.7.sit
ftp://ftp.netcom.com/pub/dd/ddt/crypto/pgp_tools/Eudora
</pre>

<a name="vi">
<h3>PGP a vi</h3></a>
Program PGP w bardzo prosty sposób mo¿na sprz±c z najczê¶ciej
u¿ywanym w systemie UNIX edytorem, jakim jest znienawidzony przez
jednych, a uwielbiany przez innych - vi.  W tym celu, w swoim
katalogu osobistym nale¿y za³o¿yæ plik o nazwie <code>.exrc</code>, a w nim
wpisaæ:
<p>
<pre>
    " PGP macros:
    "
    " Zakoduj:
    map ^We :,$! /bin/sh -c 'pgp -feast 2&gt;/dev/tty^V|^V|sleep 4'^M^L
    " Podpisz:
    map ^Ws :,$! /bin/sh -c 'pgp -fast +clear 2&gt;/dev/tty'^M^L
    " Rozkoduj:
    map ^Wd :/^-----BEG/,/^-----END/! /bin/sh -c 'pgp -f 2&gt;/dev/tty^V|^V|sleep 4'^M^L
    " Rozkoduj tylko na ekran:
    map ^Wv :,/^-----END/w !pgp -m
</pre>

W liniach powy¿ej znajdowaæ siê powinny znaki kontrolne, takie jak Ctrl-M,
Ctrl-V itp., których nie mo¿na by³o umie¶ciæ "dos³ownie", bo nie by³oby widaæ,
co to jest.  Tak wiêc '^W' oznacza np. w³a¶nie znak Ctrl-W, który w edytorze
vi uzyskaæ mo¿na wchodz±c do trybu 'insert', a nastêpnie naciskaj±c kolejno
Ctrl-V oraz Ctrl-W.  Podobnie - znak '^M' uzyskamy naciskaj±c kolejno
Ctrl-V oraz Ctrl-M (lub Ctrl-V i 'Enter', bo Ctrl-M to w³a¶nie znak przej¶cia
do nowej linii).  Plik z takimi lub podobnymi definicjami znajduje siê
w standardowej dystrybucji PGP dla UNIXa (np. <code>pgp26ui.zip</code>)
w podkatalogu <code>contrib</code>.
<p>

A teraz jak wykorzystaæ zdefiniowane powy¿ej mapowanie klawiszy.
Pierwsza z instrukcji wywo³uje kodowanie tekstu od linii z kursorem do koñca.
Wywo³ujemy j± poprzez sekwencjê klawiszy: Ctrl-W, a nastêpnie 'e'.  Je¶li jest
to zbyt k³opotliwe i woleliby¶my u¿yæ jednego klawisza funkcyjnego, mo¿na
do .exrc dopisaæ kolejn± liniê:
<pre>
    map ^[[[D ^We
</pre>
Po kolei s± to znaki:  ESC, [, [, D, spacja, Ctrl-W, e<br>
^[[[D to kod klawisza F4 (na niektórych systemach - bo niestety nie wszêdzie
jest taki sam).  A powy¿sz± liniê znowu najlepiej uzyskaæ wchodz±c do trybu
insert, a nastêpnie po kolei: Ctrl-V, F4, spacja, Ctrl-V, Ctrl-W, e
<p>
Skomplikowanie to brzmi, ale w rzeczywisto¶ci jest to bardzo proste. A gdy
ju¿ to raz zrobimy, kodowanie w edytorze vi bêdziemy mogli uzyskaæ naciskaj±c
jeden klawisz - F4 (albo dowolny inny, który zdefiniujemy do tego celu).
<p>
Pozosta³e funkcje zdefiniowane na pocz±tku - pod klawiszami '^Ws' mamy
funkcjê generowania podpisu do tekstu od kursora do koñca, pod '^Wd' - funkcjê
deszyfracji zakodowanego tekstu i umieszczenie go w edytorze, pod '^Wv' -
rozkodowanie zaszyfrowanego tekstu wy³±cznie na ekran.
<p>
Podobnie mo¿emy zdefiniowaæ wszystkie inne u¿ywane przez nas sposoby
wykorzystania PGP (np. do zaszyfrowania listu czyim¶ kluczem publicznym)
<p>

<a name="elm">
<h3>PGP a ELM</h3></a>

Istniej± dwa programy (w ró¿nych wersjach zawarte w PGP, w contrib albo
w osobnym contrib.zip) integruj±ce standardowego elma z PGP. Nazywaj±
siê morepgp i mailpgp. Mo¿esz je dostaæ przez WWW z
<a href="ftp://ftp.agh.edu.pl/pub/security/morepgp.tar.gz">
ftp://ftp.agh.edu.pl/pub/security/morepgp.tar.gz</a>.
Nale¿y je przekopiowaæ do dowolnego katalogu w ¶cie¿ce (na ogó³
/usr/local/bin, ale mo¿e to byæ dowolny katalog, tak¿e Twój $HOME/bin)
i dopisaæ do konfiguracji elma:

<pre>
D)isplay mail using  : morepgp
E)ditor (primary)    : mailpgp
</pre>

Wa¿ne jest sprawdzenie, czy ¶cie¿ka do perl-a wpisana w pierwszej linii
ka¿dego z tych skryptów jest prawid³owa. ¶cie¿kê perl-a w Twoim systemie
mo¿esz sprawdziæ komend±: <code>which perl</code>.

<a name="szczegoly">
<h2>Wiêcej szczegó³ów o PGP</h2></a>

<a name="siec">
<h3>W sieci</h3></a>
W sieci Internet dostêpne s± rozmaite materia³y w jêzyku angielskim
dotycz±ce PGP.
Oto niektóre z nich:
<dl>
<dt><a href="http://www.pk.edu.pl/sysdocs/pgpdoc/">
http://www.pk.edu.pl/sysdocs/pgpdoc/</a>
<dd>Oryginalna dokumentacja do PGP autorstwa Phila Zimmermanna
<dt><a href="http://draco.centerline.com:8080/~franl/pgp/">
http://draco.centerline.com:8080/~franl/pgp/</a>
<dd>PGP -- Pretty Good Privacy Francisa Litterio - chyba najpe³niejszy zbiór
odsy³aczy do innych informacji o PGP; zawiera m.in.:
<dt><a href="http://draco.centerline.com:8080/~franl/pgp/utilities.html">
http://draco.centerline.com:8080/~franl/pgp/utilities.html</a>
<dd>PGP-Related Utilities and Services - listê odsy³aczy do rozmaitych
programów pomocniczych dla PGP;
<dt><a href="http://www.ifi.uio.no/pgp/">
http://www.ifi.uio.no/~staalesc/pgp/</a>
<dd>The International PGP Home Page
<a href="http://www.ifi.uio.no/~staalesc/">Stalego Schumachera</a> -
informacje o wersji miêdzynarodowej PGP (PGP 2.6.3i, tzn. tej, której nale¿y
u¿ywaæ m.in. w Polsce)
<dt><a href="http://www.ifi.uio.no/pgp/doc.shtml">
http://www.ifi.uio.no/pgp/doc.shtml</a>
<dd>Pretty Good Privacy (PGP) - opis PGP, równie¿ autorstwa
<a href="http://www.ifi.uio.no/~staalesc/">Stalego Schumachera</a>
<dt><a href="http://www.ifi.uio.no/pgp/links.shtml">
http://www.ifi.uio.no/pgp/links.shtml</a>
<dd>PGP resources on the Web - lista zasobów zwi±zanych z PGP i enkrypcj±
(szyfrowaniem) w ogólno¶ci;
<dt><a href="http://www.ifi.uio.no/pgp/unix.shtml">
http://www.ifi.uio.no/pgp/unix.shtml</a>
<dd>Installing PGP 2.6.3i on Unix
<dt><a href="http://www2.hawaii.edu/~phinely/MacPGP-and-AppleScript-FAQ.html">
http://www2.hawaii.edu/~phinely/MacPGP-and-AppleScript-FAQ.html</a>
<dd>FAQ - AppleScript and MacPGP Petera Hinely'ego zawiera informacje przydatne dla
u¿ytkowników Macintosha;
<dt><a href="ftp://net-dist.mit.edu/pub/PGP/PGP_FAQ">
ftp://net-dist.mit.edu/pub/PGP/PGP_FAQ</a>
<dd>Questions and Answers about MIT's Release of PGP 2.6
<dt><a href="ftp://ftp.csn.net/mpj/getpgp.asc">
ftp://ftp.csn.net/mpj/getpgp.asc</a>
<dd>WHERE TO GET THE PRETTY GOOD PRIVACY PROGRAM (PGP) FAQ
</dl>
<p>

Ponadto, Pawe³ Krawczyk przet³umaczy³ na polski oryginaln± dokumentacjê do PGP
- jej wersja HTML jest dostêpna jako:
<a href="http://www.ceti.com.pl/~kravietz/pgp/">
http://www.ceti.com.pl/~kravietz/pgp/</a>

<a name="literatura">
<h3>Literatura</h3></a>

<pre>
Protect Your Privacy: A Guide for PGP Users
by William Stallings
Prentice Hall PTR
ISBN 0-13-185596-4

E-Mail Security: How to Keep Your Electronic Mail Private
by Bruce Schneier
Wiley Publishing

The Computer Privacy Handbook: A Practical Guide to E-Mail Encryption, Data
Protection, and PGP Privacy Software
by Andre Bacard
Peachpit Press
ISBN 1-56609-171-3

PGP: Pretty Good Privacy
by Simson Garfinkel
O'Reilly & Associates, Inc.
ISBN 1-56592-098-8

THE OFFICIAL PGP USER'S GUIDE
by Philip R. Zimmermann
MIT Press
ISBN 0-262-74017-6 ZIMPP

PGP SOURCE CODE AND INTERNALS
by Philip R. Zimmermann
April 1995
</pre>

<hr>
<a href="http://galaxy.uci.agh.edu.pl/~szymon/">
<address>
Szymon Sokó³ &lt;szymon@uci.agh.edu.pl&gt;, 14.08.95
</address>
</a>
<p>
</body>
</html>
