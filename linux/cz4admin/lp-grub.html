<html>
<head>
<title>Linux+</title>
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2">
</head>

<body bgcolor="white" text="black" link="blue" vlink="navy" alink="red">

<p>Linux+ 2005/2

<h1>
GRUB - program uruchomieniowy
</h1>

<p>
Czym jest program uruchomieniowy (ang. <em>boothloader</em>) 
i czy jest mi potrzebny do szczê¶cia? Jest to program umieszczony 
w pocz±tkowych sektorach dysku twardego (np. w <em>MBR - 
Master Boot Record</em>). <em>BIOS</em>, po uruchomieniu 
komputera i wykonaniu testów, przekazuje sterowanie w³a¶nie do 
programu zawartego w <em>MBR</em> dysku wskazanego jako 
startowy, czyli do naszego programu uruchomieniowego. Jego 
zadaniem jest za³adowanie systemu operacyjnego do pamiêci i przekazanie 
mu kontroli. Obecnie wiêkszo¶æ popularnych programów 
uruchomieniowych pozwala na wybór jednego z systemów zainstalowanych 
na dysku. Najpopularniejsze tego typu programy, dostarczanie wraz 
z dystrybucjami Linuksa, to <em>LILO</em> i <em>GRUB</em> 
(<em>Grand Unified Bootloader</em>). W niniejszym 
artykule postaram siê przybli¿yæ to drugie narzêdzie. 
<h3>
Przyk³ad u¿ycia
</h3> 
<p>
Jestem tradycjonalist±. Nie ukrywam tego. Z tego powodu 
przez bardzo d³ugi czas (szczególnie na studiach) 
uruchamia³em Linuksa z dyskietek. Koledzy z pokoju przez 
d³ugi czas nie mogli doj¶æ, dlaczego uruchamia mi siê inny 
system ni¿ im. No i po co w ogóle uruchamiaæ system, 
na którym nie mo¿na pograæ w <em>Dooma</em>? 
Pó¼niej zacz±³em korzystaæ z <em>LILO</em>. Dziêki 
temu programowi rozruchowemu nie musia³em ju¿ pamiêtaæ, 
w której kieszeni zosta³a dyskietka. Ponadto, mój 
komputer by³ ju¿ wtedy bezpieczny od zakusów studenckiej 
braci, wiêc mog³em sobie pozwoliæ na odrobinê luksusu. 
I chocia¿ w kolejnych dystrybucjach mia³em mo¿liwo¶ci 
zmieniæ na <em>GRUB-a</em>, przez kilka lat uparcie 
zostawia³em przy <em>LILO</em>. Do zmiany przekona³o 
mnie moje w³asne lenistwo... Po prostu, gdy po raz kolejny 
zapomnia³em uruchomiæ polecenie <tt>lilo</tt> po zmianie 
w pliku konfiguracyjnym i musia³em szukaæ dyskietki 
ratunkowej, powiedzia³em: do¶æ. Zainstalowa³em 
<em>GRUB-a</em> i od tej pory nie mam ju¿ powodów 
do narzekañ. I nawet jak przyjad± krewni, to nie ma si³y, 
aby uruchomiæ system, którego nie powinni - 
przynajmniej dopóki nie odgadn± has³a. 


<h3>
Instalacja
</h3>

<p>
Pakiety z programem <em>GRUB</em> mo¿na znale¼æ 
w praktycznie ka¿dej dystrybucji. Co wiêcej, podczas
 instalacji dystrybucji mo¿emy wybraæ program uruchomieniowy, 
z którego chcemy korzystaæ. Je¶li zdecydujemy siê na 
<em>GRUB-a</em>, to system od razu postara siê 
odpowiednio dostosowaæ jego konfiguracjê. 
Je¶li jednak nie zdecydowali¶my siê na instalacjê 
<em>GRUB-a</em>, musimy to zrobiæ teraz sami. 
Przede wszystkim upewnijmy siê, ¿e nie jest ju¿ zainstalowany. 
W przypadku <em>Auroksa</em> wykorzystamy do tego 
polecenie <tt> rpm  -q  grub</tt>. Je¶li pojawi siê 
napis <em> pakiet grub nie jest zainstalowany</em>, 
to bêdziemy musieli zmieniæ ten stan rzeczy. Pakiet z 
<em>GRUB-em<</em> mo¿emy zainstalowaæ z kilku 
ró¿nych ¼róde³. Pierwszym z nich s± p³yty, z których 
instalowali¶my nasz± dystrybucjê. W przypadku 
<em>Auroksa</em> pakiet znajduje siê na pierwszej 
p³ycie, wiêc po w³o¿eniu jej do napêdu mo¿emy wydaæ polecenie 
<pre>
# mount  /mnt/cdrom/
# rpm -Uvh  /mnt/cdrom/Aurox/RPMS/grub-0.94-5.i386.rpm
</pre>
<p>
Drugim ¼ród³em s± repozytoria pakietów. 
Je¶li korzystamy z jednego z systemów zarz±dzania 
pakietami, to mo¿emy u¿yæ odpowiedniego dla niego polecenia, np.:
<pre>
# yum install grub
# apt-get grub install
# emerge grub
</pre>
<p>
Oczywi¶cie, wydajemy tylko jedno z powy¿szych poleceñ. 
Analogicznie mo¿emy wykorzystaæ system zarz±dzania 
pakietami do aktualizacji wersji <em>GRUB-a</em> 
(np. poleceniem <tt>yum update grub</tt>). 
<p>
Mamy jeszcze trzeci± mo¿liwo¶æ. Je¶li zale¿y nam na 
najnowszej wersji, mo¿emy j± pobraæ ze strony domowej 
projektu (<em>http://www.gnu.org/software/grub/</em>). 
Ze wzglêdu na rozpoczêcie prac nad <em>GRUB 2</em>, 
starsza wersja (linia 0.9.x</em>, wci±¿ jeszcze 
wykorzystywana w dystrybucjach) zosta³a przemianowana 
na <em>GRUB Legacy</em>. Tutaj mamy dostêpne 
jedynie ¼ród³a, których instalacja przebiega zwyk³ym 
torem - po pobraniu i rozpakowaniu pliku 
(<tt>tar  xzvf  grub-0.95.tar.gz</tt>) wchodzimy do 
utworzonego katalogu i wydajemy polecenie:  <tt>./configure</tt> i 
<tt>make</tt>. Nastêpnie, po uzyskaniu uprawnieñ administratora 
(poleceniem <tt> su  -</tt>), wydajemy 
ostatnie polecenie:   <tt>make install</tt>.
Lepszym rozwi±zaniem jest jednak skorzystanie z 
pakietów dostêpnych dla naszej dystrybucji.
<p>
Teraz musimy skonfigurowaæ naszego 
<em>GRUB-a</em>, a nastêpnie umie¶ciæ go na dysku.
<h3>
Podstawowa konfiguracja 
</h3>
<p>
G³ówny plik konfiguracyjny <em>GRUB-a</em> to 
<em>/boot/grub/grub.conf</em>. Zazwyczaj istniej± 
równie¿ dwa dowi±zania symboliczne do tego pliku: 
<em>/boot/grub/menu.lst</em> oraz <em>/etc/grub.conf</em> 
(tak jest w <em>Auroksie</em> - w innych 
dystrybucjach g³ównym plikiem konfiguracyjnym mo¿e byæ 
byæ jeden z trzech wymienionych). Co prawda, nie jest 
on konieczny, gdy¿ mo¿emy korzystaæ z linii poleceñ 
<em>GRUB-a</em>, ale odpowiednie 
skonfigurowanie pliku bardzo u³atwi nam pracê.
Dziêki temu nie bêdziemy musieli ka¿dorazowo 
przy uruchamianiu komputera wpisywaæ 
szereg poleceñ, a w przypadku zainstalowania wielu systemów, 
bêdziemy mogli korzystaæ z wygodnego menu. 
<h1>
Dyskietka ratunkowa
</h1>
<p>
Przede wszystkim zadbajmy o to, aby mieæ 
dyskietkê lub p³ytê ratunkow±. Dyskietkê 
mogli¶my utworzyæ podczas instalacji dystrybucji. 
Je¶li tego nie zrobili¶my, zazwyczaj mo¿emy 
skorzystaæ z pierwszej p³yty dystrybucji. 
Zazwyczaj nie ma potrzeby korzystania 
z dyskietki ratunkowej, ale podczas zmiany 
programu rozruchowego mog± pojawiæ siê 
problemy, które sprawi±, ¿e nie uda siê nam 
uruchomiæ z systemów zainstalowanych na dysku. 
<h1> 
Uruchamianie Linuksa
</h1>
<p> 
Najpierw spróbujmy wykorzystaæ <em>GRUB-a</em> 
do uruchamiania naszego Linuksa. W tym celu 
powinni¶my mieæ w pliku <em>/boot/grub/grub.conf</em>
przynajmniej cztery linie: 
<pre> 
title Aurox Linux (2.4.22-1) 
root (hd0,7) 
kernel /vmlinuz-2.4.22-1 ro root=LABEL=/ 
initrd /initrd-2.4.22-1.img
</pre>
<p>
Pierwsza z nich, po s³owie <em>title</em>, 
zawiera tekst, który pojawi siê w menu. Najlepiej 
umie¶ciæ tu nazwê systemu (dystrybucji) oraz 
w nawiasie numer wersji j±dra. Oczywi¶cie, 
mo¿emy te¿ podaæ inne dodatkowe informacje 
(np. czy jest wykorzystywany <em>FrameBuffer</em>), 
które pomog± w zidentyfikowaniu pozycji w menu. 
<p>
Druga linia wskazuje, na jakiej partycji jest umieszczony 
katalog <em>/boot/</em>. W naszym przyk³adzie 
katalog <em>/boot/</em> umieszczony jest na 
osobnej partycji, <em>/dev/hda8</em>, natomiast 
g³ówny katalog systemowy <em>/</em> jest 
umieszczony na partycji <em>/dev/hda9</em> 
(oznaczonej etykiet± <em>/</em>). Wiêcej 
o nazewnictwie partycji stosowanym przez 
<em>GRUB-a</em> mo¿na przeczytaæ w ramce 
<em>Nazewnictwo dysków i partycji</em>.
<p>
W kolejnej linii okre¶lamy, które j±dro chcemy 
za³adowaæ. Po s³owie <em>kernel</em> podajemy 
¶cie¿kê do pliku z j±drem (w naszym przyk³adzie 
<em>vmlinuz-2.4.22-1</em>), liczon± w stosunku 
do partycji okre¶lonej liniê wcze¶niej. Poniewa¿ 
dla katalogu <em>/boot/</em> w naszym przyk³adzie 
mamy osobn± partycjê, to podajemy ¶cie¿kê 
<em>/vmlinuz-2.4.22-1.</em> Po nazwie pliku 
j±dra mo¿emy podaæ parametry j±dra. W naszym 
przypadku okre¶lamy partycjê z g³ównym systemie 
plików <em>(root)</em>. Wyja¶nienie warto¶ci 
<em>LABEL=/</em> znajduje siê w ramce 
<em>Nazewnictwo dysków i partycji</em>. 
Nale¿y zwróciæ uwagê, ¿e s³owo <em>root</em> 
w tej linii ma inne znaczenie ni¿ w linii wcze¶niejszej. 
Tutaj jest to parametr j±dra, wskazuj±cy g³ówny 
system plików, natomiast s³owo <em>root</em>, 
wystêpuj±ce w drugiej linii, to komenda 
<em>GRUB-a</em>, pozwalaj±ca wskazaæ urz±dzenie, 
wzglêdem którego bêd± opisywane nastêpne ¶cie¿ki dostêpu.
<p>
Ostatnia linia nie jest konieczna, lecz je¶li tylko 
mamy utworzony plik <em>initrd</em> 
odpowiedni dla naszego j±dra, to powinni¶my z 
niego skorzystaæ. Polecenie <tt>initrd</tt> zawarte w 
tej linii ³aduje RAM-dysk. To, czy go wykorzystamy, 
zale¿y od konfiguracji naszego j±dra. 
<h3>
Opcje ogólne
</h3>
<p>
Oprócz powy¿szych czterech linii, warto 
od razu dodaæ kilka innych, które okre¶l± 
zachowanie naszego menu. S± to nastêpuj±ce linie:
<pre>
default=0
timeout=30
</pre>
<p>
Umieszczamy je przed (podkre¶lam - przed) 
wymienionymi wcze¶niej liniami, zaraz na pocz±tku 
pliku <em>/boot/grub/grub.conf</em>. Pierwsza 
z nich okre¶la, która pozycja menu bêdzie 
domy¶lnie wybrana. Jak wiemy, GRUB liczy od zera, 
wiec w naszym przyk³adzie wybrali¶my pierwsz± 
(i na razie jedyn±) pozycjê w menu. Druga opcja 
wskazuje, ¿e przez 30 sekund (mo¿emy ustawiæ
inn± warto¶æ) GRUB bêdzie czeka³ na nasz± decyzjê. 
Je¶li nie wci¶niemy ¿adnego klawisza, to uruchomi 
automatycznie pozycjê menu wskazan± w opcji <em>default</em>. 
W przypadku, gdy  u¿yli¶my opcji <em>timeout</em> 
bez korzystania z opcji <em>default</em>, uruchomiona zostanie
pierwsza zdefiniowana pozycja w menu.
<h3>
Zapisywanie GRUB-a na dysku
</h3>

<p>Teraz ju¿ mo¿emy zapisaæ <em>GRUB-a</em> na dysku, 
(je¶li jeszcze tego nie robili¶my). 
Zazwyczaj bêdziemy chcieli umie¶ciæ go na pierwszym dysku. 
S³u¿y do tego polecenie <tt>grub-install  /dev/hda</tt>. 
<p>
Je¶li pó¼niej zmienimy zawarto¶æ pliku konfiguracyjnego 
<em>/boot/grub/grub.conf.</em>, to nie bêdziemy 
musieli ponownie wykonywaæ tego polecenia. 
<em>GRUB</em> automatycznie rozpozna 
zmiany w pliku i podczas kolejnego uruchamiania 
komputera wy¶wietli odpowiednie menu. W 
zasadzie jedyny przypadek, gdy mo¿emy chcieæ 
wydaæ ponownie to polecenie, to moment 
aktualizacji <em>GRUB-a</em> do nowszej wersji.
<p>
Warto uruchomiæ ponownie komputer, aby 
sprawdziæ, jak dzia³a nasz <em>GRUB</em>. 
Powinny¶my zobaczyæ proste menu z jedn± pozycj± 
do wyboru. Po jej zatwierdzeniu klawiszem 
<em>[Enter]</em> (lub odczekaniu 30 sekund) 
powinien za³adowaæ siê nasz Linux.
<h3>
Uruchamianie ró¿nych systemów
</h3>
<p>
Mo¿liwo¶ci <em>GRUB-a</em> najlepiej 
wykorzystamy, je¶li mamy zainstalowane równie¿ 
inne systemy operacyjne - bardzo wielu u¿ytkowników 
systemu spod znaku pingwina korzysta z 
<em>Windows</em> (choæby po to, aby czasem pograæ) 
lub z <em>FreeBSD</em> (np. ze wzglêdu na studia czy pracê).
<h3>
Inne dystrybucje Linuksa
</h3>
<p>
W przypadku, gdy chcemy z pomoc± <em>GRUB-a</em> uruchamiaæ 
równie¿ inne dystrybucje Linuksa zainstalowane w naszym 
komputerze, postêpujemy tak samo, jak w przypadku 
opisanym w rozdziale <em>Uruchamianie Linuksa</em>. 
Wystarczy dopisaæ kolejna sekcjê zaczynaj±c± siê od 
linii <em>title</em> i zawieraj± odpowiedni± opcjê. 
Tego samego sposobu mo¿emy zreszt± u¿yæ, gdy 
chcemy przetestowaæ nowe j±dro w naszej 
dystrybucji. Przypu¶æmy, ¿e skomplikujemy samodzielnie
j±dro i nazwali¶my je <em>vmlinuz-new</em>. 
Wówczas w pliku <em>/boot/grub/grub.conf</em> 
mo¿emy na koñcu dopisaæ nastêpuj±ce linie:
<pre>
title Aurox Linux (2.4.22-1a)
root (hd0,7)
kernel  /vmlinuz-new  ro root=LABEL=/
initrd  /initrd-2.4.22-1a.img
</pre>
<p>
Je¶li nie wygenerowali¶my RAM-dysku, to nie 
dopisujemy ostatniej linii, a zamiast <em>root=LABEL=/</em> 
musimy podaæ odpowiedni± nazwê partycji (w naszym 
przyk³adzie <em>root=/dev/hda9</em>). Je¶li o tym 
zapomnimy, to nasz system przestanie siê ³adowaæ na 
etapie montowania g³ównego systemu plików.
<h3>
Windows, DOS
</h3>
<p>
Najprostszym sposobem na uruchamianie systemu 
z rodziny <em>Windows</em> jest umieszczenie 
na koñcu pliku <em>/boot/grub/grub.conf</em> nastêpuj±cych linii:
<pre>
title DOS lub Windows
rootnoverify (hd0,0)
chainloader +1
</pre>
<p>
Polecenie <em>title</em> ju¿ znamy. W linii 
<em>rootnoverify</em> wskazujemy partycjê, na której jest 
umieszczomy system, który chcemy za³adowaæ. 
Polecenie to ró¿ni siê od polecenia <em>root</em>  
tym, ¿e wskazana partycja nie jest montowana. 
Polecenie <em>chainloader</em> przekazuje kontrole 
do nastêpnego programu rozruchowego. Jak to dzia³a? 
Je¶li na partycji <em>/dev/hda1</em> mamy 
zainstalowany tylko pojedyñczy system 
(np. DOS lub <em>Windows 98</em>), to zostaje 
on uruchomiony. Je¶li mamy na dysku zainstalowany 
system <em>Windows 98</em> i <em>Windows XP</em>, 
to program uruchomieniowy zainstalowany przez <em>Windosw XP</em> 
potrafi obs³u¿yæ oba te systemy. Wystarczy wiêc w poleceniu 
<em>rootnoverify</em> wskazaæ partycjê, na której 
jest zainstalowany program uruchomieniowy 
<em>Windows XP</em>. Dziêki temu, po wybraniu 
w menu <em>GRUB-a</em> pozycja <em>DOS lub Windows</em>, 
zobaczymy kolejne menu, pozwalaj±ce nam wybraæ pomiêdzy 
<em>Windows 98</em> a <em>Windows XP</em>.
<h3>
FreeBSD
</h3>
<p>
Systemy z rodziny <em>FreeBSD</em> mo¿emy 
uruchomiæ w analogiczny sposób, jak <em>Windows</em>
 i <em>DOS</em>, czyli korzystaj±c z poleceñ 
<em>rootnoverify</em> i <em>chainloader</em>. 
Mo¿emy te¿ wskazaæ dok³adnie na program 
<em>/boot/loader</em> z pomoc± nastêpuj±cych 
linii w pliku <em>/boot/grub/grub.conf</em>:
<pre>
title FreeBSD
root (hd1,a)
kernel /boot/loader
</pre>
<p>
Widaæ tu u¿ycie innego nazewnictwa. Wynika 
to st±d, ¿e <em>FreeBSD</em> nazywa swoje 
partycje literami alfabetu, a w dodatku wprowadza 
pojêcie <em>slice</em> (tzw. <em>plastra</em> -
 natywnej partycji <em>FreeBSD</em>). Je¶li 
wiêc mamy <em>FreeBSD</em> zainstalowane na 
pierwszej partycji drugiego dysku, to zapis (<em>hd1,a</em>)
 powinien byæ odpowiedni. Wyszuka on pierwszy, 
<em>slice</em>, na którym znajduje siê partycja 
<em>a</em>. Je¶li chcemy dok³adnie sprecyzowaæ, który 
<em>silce</em> ma byæ zamontowany, to mo¿emy 
u¿yæ postaci (<em>hd1,0,a</em>).
<h3>
Uruchamianie Memtest86+
</h3>
<p>
Od czasu do czasu warto przetestowaæ pamiêæ naszego 
komputera, aby zawczasu wykryæ problemy. Dwa 
najlepsze programy przeznaczone do tego celu to 
<em>Memtest86</em> i <em>Memtest86+</em>. <em>GRUB</em> 
mo¿e nam pomóc w ich uruchomieniu.
<p>
Wystarczy wybraæ jeden z wymienionych programów, 
gdy¿ obydwa czerpi± nawzajem ze swoich kodów 
¼ród³owych. Osobi¶cie polecam <em>Memtest86+</em>. 
Najpierw musimy pobraæ odpowiedni plik ze strony 
domowej programu (<em>http://www.memtest.org/</em>). 
Odnajdujemy sekcjê <em>Download</em> 
(<em>Pre-built ISOs</em>), w której znajduj± siê
 ju¿ skomplikowane wersje. Nastêpnie z sekcji odpowiadaj±cej 
wersji (w chwili pisania artyku³u by³a to wersja 
<em>1.40</em>) pobieramy plik znajduj±cy siê pod 
odno¶nikiem <em>Download - Pre-Compiled Bootable 
Binary</em> (<em>.gz</em>). Plik ma zaledwie oko³o 
40 kB, wiêc jego pobieranie nie powinno potrwaæ zbyt 
d³ugo. Dla pewno¶ci mo¿emy sprawdziæ, czy plik jest 
poprawny. W tym celu wchodzimy do katalogu, 
w którym znajduje siê nasz plik i wydajemy plecenie:
<pre>
# md5sum memtest86+-1.40.bin.gz
</pre>
<p>
Oczywi¶cie, je¶li pobrali¶my nowsz± wersjê, to musimy
 odpowiednio dostosowaæ nazwê pliku. W wyniku 
powinni¶my otrzymaæ ci±g znaków (tzw. skrót <em>MD5</em>), 
który porównujemy z ci±giem znaków umieszczonym 
obok odno¶nika do pliku na stronie domowej programu. 
Je¶li oba ci±gi s± takie same, mo¿emy 
przyst±piæ do nastêpnych czynno¶ci.
<p>
Czas na rozpakowanie pliku. Dokonujemy tego
 poleceniem <tt>gzip  -d memtest86+-1.40.bin</tt>. 
Nastêpnie uzyskujemy uprawnienia superu¿ytkownika 
(wydajemy polecenie <tt>su -</tt> i podajemy has³o 
u¿ytkownika <em>root</em>), po czym kopiujemy plik 
<em>memtest86+-1.40.bin</em> do katalogu
 <em>/boot/</em>. Teraz pozosta³o nam odpowiednio 
zmodyfikowaæ plik konfiguracyjny <em>GRUB-a</em>. 
Otwieramy go w naszym ulubionym edytorze 
(np. <em>Vim</em>) i na koñcu dopisujemy dwie linie:
<pre>
title MEMTEST
root (hd0,7)
kernel  /memtest86+-1.40.bin
</pre>
<p>
Oczywi¶cie, zamiast <em>MEMTEST</em> mo¿emy 
wstawiæ inny odpowiadaj±cy nam tytu³. Pamiêtajmy,
 ¿e te linie dotycz± wci±¿ naszego przyk³adu. Je¶li katalog 
<em>/boot/</em> mamy na innej partycji, to musimy 
odpowiednio dostosowaæ warto¶ci poleceñ 
<em>root</em> i <em>kernel</em>.
<p>
Po zapisaniu zmian mo¿emy ju¿ zrestartowaæ system, 
a w naszym menu powinno pojawiæ siê nowa opcja - 
<em>MEMTEST</em>. Je¶li j± wybierzemy, 
uruchomi siê program <em>Memtest86+</em> i od 
razu rozpocznie testowanie pamiêci. Opcje programu 
s± dostêpne po wci¶niêciu klawisza <em>[c]</em>, 
natomiast klawiszem <em>[ESC]</em> mo¿emy 
zrestartowaæ komputer, je¶li nie mamy 
czasu na przprowadzanie pe³nego testu.
<h3>
Upiêkszenie GRUB-a
</h3>
<p>
Je¶li nie podoba nam siê domy¶lny wygl±d menu 
<em>GRUB-a</em>, mo¿emy spróbowaæ je nieco 
ubarwiæ. Jedn± z mo¿liwo¶ci jest ustawienie lub 
zmiana rysunku wy¶wietlonego w tle. Ponadto, 
mo¿emy dopasowaæ kolory czcionek do naszych upodobañ.
<p>
Wiêkszo¶æ dystrybucji dostarcza swoje w³asne t³a 
dla <em>GRUB-a</em>, wiêc najprawdopodobniej 
mamy ju¿ w pliku konfiguracyjnym odpowiedni± 
opcjê. Jest to linia o zawarto¶ci podobnej do poni¿szej:
<pre>
splashimage=(hd0,7)/grub/splash.xpm.gz
</pre>
<p>
Linia ta opcji <em>splashimage</em> przypisuje plik 
<em>splash.xpm.gz</em> znajduj±cy siê w katalogu 
<em>/grub/</em> na partycji <em>/dav/hda8</em> 
(a wiêc w naszym przyk³adzie plik ten 
znajduje siê w katalogu <em>/boot/grub/</em>).
<p>
Je¶li w naszym pliku nie ma takiej linii, to nale¿y j± 
dodaæ, odpowiednio dopasowuj±c warto¶æ.
 Linia ta powinna byæ umieszczona przed pierwsz± 
lini± <em>title</em>. Mo¿emy j± wstawiæ 
zaraz poni¿ej opcji <em>timeout</em>.
<p>
Powstaje pytanie, sk±d wzi±æ rysunek. Jak widaæ,
w opcji <em>splashimage</em> nie podajemy plików w
popularnych formatach, takich jak <em>PNG</em> 
czy <em>JPG</em>. Zamiast tego, mamy tu plik w 
formacie <em>XPM</em>, skompresowany programem 
<em>Gzip</em>. To nie jedyne ograniczenie. Nasz 
obrazek mo¿e mieæ tylko 14 kolorów i rozdzielczo¶æ 
640x480 pikseli. Nie brzmi to mo¿e zbyt zachêcaj±co, 
ale zapewniam, ¿e mo¿na przygotowaæ interesuj±ce rysunki 
spe³niaj±ce te wymagania. Zacznijmy od 
obejrzenia kilku przyk³adowych rysunków. 
<h3>
Wybieranie t³a
</h3>
<p>
Na stronie <em>http://vision.featia.net/liunx/grubsplash/</em>
mo¿emy znale¼æ kilka przyk³adów rysunków
mog±cych pos³u¿yæ za t³o <em>GRUB-a</em>. Mamy 
tu do dyspozycji zarówno pliki w formacie <em>GIF</em> 
(dziêki nim od razu mo¿emy zapoznaæ siê z rysunkiem),
jak i odpowiadaj±ce im pliki w formacie 
<em>XPM.GZ</em>. Pobieramy je wszystkie na nasz dysk. 
Rysunki dostarczane z dystrybucj± znajduj± siê w katalogu 
<em>/boot/grub</em>, lecz je¶li umie¶cimy tam 
równie¿ nasze, mo¿e powstaæ ba³agan. Zamiast 
tego, utworzymy podkatalog <em>splashes/</em> 
poleceniem: <tt>mkdir /boot/grub/splashes/</tt> 
(oczywi¶cie, potrzebujemy do tego uprawnieñ 
u¿ytkownika <em>root</em>). Nastêpnie do tego 
katalogu kopiujemy wszystkie pobrane pliki 
z koñcówk± <em>.xpm.gz</em>. 
<p>
Wydawa³oby siê, ¿e powinni¶my teraz 
zmodyfikowaæ plik <em>/boot/grub/grub.conf</em> i w linii z opcj± 
<em>splashimage</em> podaæ now± ¶cie¿kê do pliku. Owszem, 
mo¿na to zrobiæ, wstawiaj±c przyk³adowo tak± liniê: 
<pre> 
splashimage=(hd0,7)/grub/splashes/seachair.xpm.gz
</pre>  
<p>
Je¶li jednak chcemy sami poeksperymentowaæ 
i sprawdziæ, które t³o najbardziej nam odpowiada, 
to ci±gle restartowanie systemu i modyfikowanie 
jednej linii mo¿e byæ mêcz±ce. Na szczê¶cie, 
mo¿na to zrobiæ inaczej. Gdy ju¿ zrestartujemy 
system i powita nas menu <em>Grub-a</em>, 
wciskamy klawisz <em>[c]</em>. W ten sposób 
przejdziemy do linii poleceñ <em>Grub-a</em>, 
która szerzej jest opisana w rozdziale <em>Obs³uga</em>. 
W linii tej najpierw wpisujemy <tt>root (hd0,7)</tt>, 
a nastêpnie wciskamy <em>[Enter]</em>. 
Pamiêtamy, ¿e polecenie to ustawia partycjê wykorzystywan± 
w nastêpnych poleceniach. Pó¼niej wpisujemy 
<tt>splashimage    /grub/splashes/seachair.xpm.gz</tt>  
i ponownie zatwierdzamy klawiszem <em>[Enter]</em>. 
I ju¿ mamy wy¶wietlone nasze t³o. Klawiszem 
<em>[Esc]</em> mo¿emy wróciæ do menu, aby 
zobaczyæ, jak wygl±da. Je¶li bêdziemy chcieli 
wypróbowaæ inne t³a, znów wciskamy klawisz 
<em>[c]</em> i postêpujemy tak, jak wcze¶niej 
(nie musimy ponownie u¿ywaæ polecenia <em>root</em> 
- wystarczy samo <em>splashimage</em>). 
No w³a¶nie, ale pewnie zapomnieli¶my ju¿, 
jak siê nazywa³y poszczególne pliki. Nie martwmy 
siê. Linia poleceñ <em>GRUB-a</em> obs³uguje 
uzupe³nienie nazw, wiêc mo¿emy wpisaæ s³owa 
<tt>splashimage / </tt> (pamiêtajmy o znaku /), 
a nastêpnie wcisn±æ klawisz <em>[Tab].</em> 
Pojawi siê nam spis dostêpnych nazw katalogów 
i plików. W ten sposób dopisujemy dalszy ci±g 
¶cie¿ki (<em>/grub/splashes/</em> lub 
<em>/boot/grub/splashes/</em> - zale¿nie od naszej 
konfiguracji) i znów wciskamy klawisz <em>[Tab]</em> w 
celu wy¶wietlenia nazw plików z t³ami. 
<p>
Gdy ju¿ siê zdecydujemy na konkretne t³o, mo¿emy 
uruchomiæ system (wychodzimy klawiszem <em>[Esc]</em> 
a¿ do menu i wybieramy pozycjê z naszym Linuksem), 
a nastêpnie dopisaæ odpowiedni± liniê 
do pliku <em>/boot/grub/grub.conf.</em> 
<h3> 
Tworzenie w³asnego t³a
</h3>
<p> 
Oprócz gotowych plików z t³ami, które mo¿na 
znale¼æ w Internecie, ka¿dy pewnie chcia³by mieæ 
mo¿liwo¶æ stworzenia ca³kiem w³asnego. Oczywi¶cie, 
nic nie stoi na przeszkodzie. Je¶li chcemy po prostu 
przekonwertowaæ posiadany obrazek do 
skompresowanego formatu <em>XPM</em>, mo¿emy wydaæ polecenie: 
<pre>
# convert -resize 640x480 -colors 14 picture.jpg picture.xpm 
# gzip picture.xpm
</pre>
<p> 
Polecenie <em>convert</em> nale¿y do pakietu 
<em>ImageMagick</em>. Je¶li nie jest on zainstalowany 
w naszym systemie, mo¿emy go zainstalowaæ z p³yt 
dystrybucji lub z repozytorium (analogicznie, do 
instalacji pakietu <em>GRUB-a</em>). 
Opcja <em> -resize 640x480</em> powoduje zmianê 
rozdzielczo¶ci rysunku do wymaganego rozmiaru, 
a opcja <em>-colors 14</em> redukuje palete 
kolorów do czternastu. Nazwy <em>picture.jpg</em> i 
<em>picture.xpm</em> to odpowiednio 
nazwy pliku wej¶ciowego (z konwertowanym 
rysunkiem) rysunkiem wyj¶ciowego (z t³em 
dla <em>GRUB-a</em>). Drugim poleceniem 
kompresujemy rysunek programem <em>Gzip</em>.  
<p>
Powy¿sza metoda jest szybka, lecz czasem 
uzyskane rezultaty wo³aj± o pomstê do nieba. 
Lepszym rozwi±zaniem jest uruchomienie programu 
<em>GIMP</em>, wczytanie pliku, który chcemy 
konwertowaæ, a nastêpnie zmiana rozmiaru obrazu 
(<em>Obraz -&gt; Przeskakuj obraz</em>) i liczby 
kolorów (<em>Obraz -&gt; Tryb -&gt; Indeksowany</em>). 
Dziêki temu mo¿emy poeksperymentowaæ z ró¿nymi 
opcjami obrazu. Ponadto, mo¿e okazaæ siê, ¿e 
konieczne bêdzie rêczne poprawianie ca³ego 
rysunku, zanim uzyskamy zadowalaj±cy efekt. 
<p>
Innym wyj¶ciem jest stworzenie pustego rysunku 
o wymiarach <em>640x480</em> i palecie 14 
kolorów, a nastêpnie narysowanie na nim tego, 
co nam siê podoba. Nie ka¿dy jednak ma ¿y³kê artystyczn±. 
<p>
Wybór metody zale¿y od nas. Z uzyskanym 
plikiem postêpujemy tak, jak to opisali¶my 
w rozdziale <em>Wybieranie t³a</em>. 
<p>
Niektórzy <em>Czytelnicy</em> mog± 
zainteresowaæ siê, dlaczego kompresujemy t³a 
przed wykorzystaniem ich w <em>GRUB-ie</em>. 
Mo¿na wykorzystaæ równie¿ pliki <em>XPM</em> 
nieskompresowane programem <em>Gzip</em>. 
Ró¿nica bêdzie dla nas w sumie 
nieodczuwalna, lecz dla zasady lepiej kompresowaæ. 
Przy obecnych komputerach mniej czasu zajmuje 
wczytanie z dysku skompresowanego (a wiêc 
i mniejszego) pliku, a nastêpnie rozkompresowanie 
go w pamiêci, ni¿ wczytanie z dysku wiêkszego 
pliku, nie poddanego kompresji. 
<h3> 
Dobór kolorów
</h3>
<p>
Oprócz ustalenia w³asnego t³a, mo¿emy 
pokusiæ siê o zmianê kolorów czcionki 
wykorzystywanej w menu. S³u¿± do tego 
opcje <em>foreground</em> i <em>background</em> 
ustawiane w pocz±tkowej czê¶ci pliku <em>/boot/grub/grub.conf</em> 
(mo¿emy je umie¶ciæ nawet przed opcj± <em>splashimage</em>). 
Opcje te przyjmuj± jako parametry kolory 
zapisane w szesnastkowym formacie <em>RGB</em> 
(<em>Red, Greek, Blue</em>). Je¶li 
bêdziemy chcieli uzyskaæ bia³e litery z czarnym 
t³em, to u¿yjemy opcji: 
<pre>
foreground ffffff 
background 000000
</pre> 
<p>
Oczywi¶cie, mo¿emy te¿ u¿ywaæ innych kolorów, 
jak czerwony (<em>ff0000</em>), zielony  
(<em>00ff00</em>), niebieski (<em>0000ff</em>) 
i inne. Je¶li chcemy chcemy w wygodny sposób 
dopasowaæ kolory do naszego t³a i gustu, mo¿emy 
wykorzystaæ tê sam± metodê, któr± stosowali¶my przy 
wybieraniu t³a. Tym razem, po wej¶ciu do linii poleceñ 
<em>GRUB-a</em>, wydajemy odpowiednie polecenie 
<tt>foreground ffff00</tt> i <tt>background ff00ff</tt> 
(oczywi¶cie, eksperymentuj±c z kolorami).
<p>
Oprócz tego, istnieje mo¿liwo¶æ zmiany koloru 
pod¶wietlenia i t³a menu. Wykorzystywane jest do tego 
polecenie <em>color</em>, który mo¿emy umie¶ciæ 
w pliku konfiguracyjnym przed poleceniami 
<em>foreground</em> i <em>background</em>. 
Listê kolorów dostêpnych w tym poleceniu mo¿emy 
uzyskaæ korzystaj±c z polecenia <tt>help  color</tt>
 w linii poleceñ <em>GRUB-a</em> (jak równie¿ w 
dokumentacji <em>GRUB-a</em> - <tt>info  grub</tt>). 
Przyk³adowe wywo³anie tego polecenia (daj±ce ca³kiem przyjemny kolor) 
ma postaæ <tt>color cyan/blue whate/blue</tt>.
<h3>
Obs³uga
</h3>
<p>
Je¶li zainstalowali¶my <em>GRUB-a</em> na 
dysku i stworzyli¶my dla niego plik konfiguracyjny, 
to podczas uruchamiania komputera 
powinno nas przywitaæ menu 
<em>GRUB-a</em>. Mo¿emy poruszaæ siê 
po nim z pomoc± strza³ek kursora, a klawiszem 
<em>[Enter]</em> wybieraæ pozycjê, któr± 
chcemy uruchomiæ. Oprócz tego, 
mamy jednak do dyspozycji kilku innych funkcji. 
<h3>
Modyfikacja pozycji menu
</h3>
<p>
Przypu¶æmy, ¿e chcemy poeksperymentowaæ 
z innymi parametrami j±dra. Mo¿emy w tym celu 
utworzyæ nowe sekcje <em>title</em> w pliku 
konfiguracyjnym. Lepszym rozwi±zaniem jest modyfikacja 
parametrów j±dra podczas uruchamiania systemu. 
Jak tego dokonaæ? Przesuñmy zaznaczenie w menu 
na pozycjê naszej dystrybucji Linuksa. W naszym 
przyk³adzie jest to linia <em>Aurox Linux (2.4.22-1)</em>. 
Zamiast wcisn±æ <em>[Enter]</em>, wciskamy 
klawisz <em>[e]</em>. Zobaczymy wy¶wietlon± 
zawarto¶æ tej sekcji <em>title</em>. Pomiêdzy 
liniami mo¿emy przemieszczaæ siê podobnie jak w menu. 
Je¶li chcemy zmodyfikowaæ jak±¶ liniê, wciskamy 
<em>[Enter]</em>. Spróbujmy w linii z poleceniem 
<em>kernel</em> dopisaæ opcjê j±dra <em>vga=791</em>. 
W naszym przyk³adzie linia wygl±da³aby tak:
<pre>
kernel /vmlinuz-2.4.22-1 ro root=LABEL=/ vga=791
</pre>
<p>
Zmiany zatwierdzamy klawiszem <em>[Enter]</em>. 
Wprowadzona w³a¶nie opcja powoduje, ¿e system, 
zamiast w standardowym trybie tekstowym, 
uruchomi siê z wykorzystaniem bufora ramki, ustawiaj±c 
rozdzielczo¶ci ekranu na 1024x768 
pikseli z ponad 16 tysiêcy kolorów. 
<p>
Je¶li chcieliby¶my dodaæ now± liniê, mo¿emy skorzystaæ 
z klawiszy <em>[o]</em> i <em>[O]</em>. 
Pierwszy z nich powoduje dodanie nowej linii, po 
aktualnie zaznaczonej linii, a drugi - przed ni±. 
Niepotrzebne linie mo¿emy skasowaæ klawiszem <em>[d]</em>.
<p>
Gdy jeste¶my ju¿ zadowoleni z wprowadzonych zmian,
wciskamy klawisz <em>[b]</em>, co powoduje uruchomienie
edytowanej pozycji wraz z wprowadzonymi zmianami.
Je¶li wolimy zrezygnowaæ ze zmian, mo¿emy klawiszem
<em>[Esc]</em> wróciæ do g³ównego menu.
<h3>
Linia poleceñ
</h3>
<p>
Jeszcze wiêksze mo¿liwo¶ci daje nam linia poleceñ 
dostêpna w <em>GRUB-ie</em>. Korzystali¶my 
z niej ju¿ w rozdziale <em>Wybieranie t³a</em>, 
lecz teraz opiszemy j± bardziej szczegó³owo. Aby siê 
do niej dostaæ, w menu <em>GRUB-a</em> 
wciskamy klawisz <em>[c]</em>. Mamy tu do 
dyspozycji ca³y szereg mniej lub bardziej przydatnych 
poleceñ. Ich spis uzyskamy wciskaj±c po prostu 
klawisz <em>[Tab]</em>. Z pewno¶ci± zwrócimy 
uwagê, ¿e na spisie znajduje siê wiele znanych nam ju¿ 
poleceñ, z których korzystali¶my podczas tworzenia 
menu - <em>chainloader, kernel, initrd, root </em> 
i inne. Jak wiêc widaæ, liniê poleceñ równie¿ mo¿emy 
wykorzystaæ do uruchamiania systemów zainstalowanych 
na naszym komputerze. Zreszt±, gdyby¶my nie 
utworzyli pliku konfiguracyjnego 
<em>/boot/grub/grub.conf</em>, to przy uruchamianiu komputera 
mogliby¶my korzystaæ tylko z linii poleceñ <em>GRUB-a</em>. 
Je¶li w takim przypadku chcieliby¶my uruchomiæ <em>Memtest86+</em> 
(zainstalowany zgodnie z wcze¶niej podanymi wskazówkami), 
musieliby¶my wydaæ nastêpuj±ce polecenie:
<pre>
root (hd0.7)
kornel /memtest86+-1.40.bin
boot
</pre>
<p>
Jedyna ró¿nica pomiêdzy zawarto¶ci± 
<em>grub.conf</em> i poleceniami przy rêcznym 
uruchamianiu systemu, to dodatkowe polecenie 
<tt>boot</tt> powoduj±ce za³adowanie wskazanego j±dra.
<p>
Warto pamiêtaæ, ¿e w czasie wprowadzania poleceñ 
i nazw plików mo¿emy korzystaæ z autouzupe³nianiu - 
wystarczy wcisn±æ klawisz <em>[Tab]</em>, a 
wy¶wietlone zostan± mo¿liwo¶ci warto¶ci.
<p>
Do czego jeszcze mo¿e przydaæ siê nam linia polecenia? 
Z pomoc± plecenia <em>cat</em> mo¿emy 
sprawdziæ zawarto¶æ dowolnego pliku, 
np. <tt>cat /etc/fstab</tt>. Wynika z tego, ¿e osoba maj±ca 
dostêp do linii poleceñ <em>GRUB-a</em> 
mo¿e przeczytaæ praktycznie dowolny plik (np. 
<em>/etc/shadow</em> zawieraj±cy zakodowane has³a). 
Tym jednak bêdziemy siê martwiæ za chwilê, w 
rozdziale <em>Zabezpieczenia</em>. Niezale¿nie od 
zagro¿eñ, polecenie <em>cat</em> mo¿e przydaæ 
siê nam, je¶li w czasie eksperymentów 
bêdziemy chcieli sprawdziæ jakie¶ ustawienia.
<p>
Inne przydatne polecenie to <em>find</em>, 
pozwalaj±ce nam sprawdziæ, na której partycji 
znajduje siê wskazany plik. Powinni¶my podawaæ 
bezwzglêdn± ¶cie¿kê do pliku, np. 
<tt>find  /boot/grub/stage1</tt> lub <tt>find  /grub/stage1</tt> 
- polecenie to zwróci nam nazwê partycji, jak± 
powinni¶my wpisaæ w linii <em>root</em> 
w pliku konfiguracyjnym <em>GRUB-a</em>.
<p>
Warto zapoznaæ siê z innymi pleceniami. Bardzo 
przydatna jest pomoc, któr± mo¿emy 
uzyskaæ wpisuj±c <tt> help nazwa_polecenia</tt>.
Liniê poleceñ <em>GRUB-a</em> mo¿na 
równie¿ uruchomiæ z konta u¿ytkownika <em>root</em>
Wpisuj±c polecenie <tt>grub</tt>. Mamy 
wówczas podobne mo¿liwo¶ci, jak w opisywanej 
wy¿ej linii pleceñ, lecz oczywi¶cie z niektórych 
poleceñ nie mo¿emy korzystaæ (dotyczy to 
przyk³adowo polecenia <em>splashimage</em>).
<h3>
Zabezpieczenia
</h3>
<p>
Menu oferowane przez <em>GRUB-a</em> 
jest bardzo wygodna, lecz czasem daje zbyt wiele 
mo¿liwo¶ci. Jak przekonali¶my siê w poprzednim 
rozdziale, u¿ytkownik maj±cy dostêp do <em>GRUB-a</em> 
mo¿e dowolnie zmieniæ parametry 
wywo³ania systemu, a nawet uzyskaæ dostêp do 
chronionych plików. Na szczê¶cie, <em>GRUB</em>
 pozwala na zablokowania takiego dostêpu.
<p>
S³u¿y do tego has³o broni±ce dostêpu do edycji 
pozycji w menu, jak równie¿ do linii poleceñ. Je¶li 
chcemy, to nawet uruchomienie poszczególnych 
systemów mo¿e wymagaæ podania has³a.
<p>
Je¶li chcemy zabezpieczyæ w ten sposób nasz system, 
to - oczywi¶cie - potrzebujemy do tego uprawnieñ 
u¿ytkownika <em>root</em>. Najpierw wygenerujemy 
nasze has³o. Uruchamiamy liniê poleceñ 
<em>GRUB-a</em> - <tt>grub</tt>. Tym razem 
skorzystamy z polecenia <tt>md5crypt</tt>. Po jego 
wydaniu zostaniemy zapytani o has³o. Wpisujemy je 
(niech tylko nie bêdzie zbyt ³atwe do odgadniêcia) i 
wciskamy <em>[Enter]</em>. W odpowiedzi 
zobaczymy liniê z zakodowanym has³em.
<p>
Teraz edytujemy nasz plik konfiguracyjny (np. 
<tt>vim  /boot/grub/grub.conf</tt>) i na 
jego pocz±tku umieszczamy liniê o tre¶ci:
<pre>
password --md5 $1$ikVvf0$naEIsTUTM5yM1MYrx3Ms7.
</pre>
<p>
Oczywi¶cie, zamiast podanej tu warto¶ci nale¿y 
wkleiæ wynik dzia³ania polecenia <em>md5crypt</em>. 
Wykorzystywanie podanej wy¿ej warto¶ci 
nie jest dobrym pomys³om, gdy¿ jest to zakodowane 
s³owo <em>password</em>. Skoro w pliku przechowujemy 
has³o, powinni¶my siê upewniæ, ¿e nie bêdzie ono ³atwe 
do odczytu. W tym celu ustawimy 
odpowiednio prawa dostêpu do pliku:
<pre>
# chmod 600 /boot/grub/grub.conf
</pre>
<p>
Ta zmiana wystarczy, aby przy uruchamianiu komputera 
w menu <em>GRUB-a</em> by³y dostêpne tylko 
dwie mo¿liwo¶ci - uruchomienie jednego z systemów 
lub wci¶niêciu klawisza <em>[p]</em>. Je¶li po 
wci¶niêciu klawisza <em>[p]</em> podamy prawid³owe 
has³o (to, które wpisywali¶my w poleceniu 
<em>md5crypt</em>), to dopiero wtedy uzyskamy 
do dostêp do mo¿liwo¶ci opisywanych w rozdziale <em>Obs³uga</em>.
<p>
Nadal u¿ytkownik mo¿e uruchomiæ dowoln± pozycjê 
w menu, a to nie zawsze musi nam odpowiadaæ. 
Skoro ju¿ mamy ustalone has³o, wystarczy teraz w sekcji 
<em>title</em>, któr± chcemy zablokowaæ, umie¶ciæ 
polecenie <tt>lock</tt>. Musi ona byæ umieszczona 
od razu pod lini± <em>title</em>, gdy¿ u¿ytkownik mo¿e 
wykonywaæ wszystkie plecenia a¿ do napotkania 
polecenia <tt>lock</tt>. W tym momencie zostaje 
zapytany o has³o i dopóki nie poda prawid³owego, 
nie bêdzie móg³ wykonywaæ dalszych poleceñ. Jak 
wiêc widaæ, umieszczanie polecenia <em>lock</em> 
na koñcu sekcji <em>title</em> zazwyczaj 
mija siê z celem - lepiej umie¶ciæ je na pocz±tku.
<p>
Nale¿y zaznaczyæ, ¿e zabezpieczenie to nie jest 
doskona³e. Nie mo¿emy liczyæ, ¿e za³o¿enie has³a na 
<em>GRUB-a</em> zabezpieczy nas przed 
niecnymi zamiarami osób maj±cych bezpo¶redni 
dostêp do komputera. Zawsze jednak mo¿emy 
zwiêkszyæ wygodê korzystania z komputera oraz 
zabezpieczyæ nas przed mniej do¶wiadczonymi u¿ytkownikami.
<h3>
U³atwianie konfiguracji
</h3>
<p>
Je¶li nie chcemy rêcznie zmieniaæ pliku konfiguracyjnego 
<em>GRUB-a</em>, mo¿emy skorzystaæ z jednego 
z konfiguratorów. Najlepszym rozwi±zaniem wydaje 
siê byæ modu³ <em>Webmina</em> dostêpny w 
sekcji <em>Sprzêt -&gt; Inicjator systemu GRUB</em>. 
Oprócz tego, mamy do dyspozycji dzia³aj±cy w 
trybie tekstowym skrypt <em>Grubconfig</em> oraz 
przeznaczony dla ¶rodowiska graficznego program 
<em>GrubConf</em>. Pierwszy z nich jest ma³o 
intuicyjny, lecz ma kilka ciekawych opcji, a przy tym 
nie wymaga instalacji - wystarczy rozpakowaæ 
archiwum i mo¿na go uruchomiæ.
<p>
Osoby samodzielne kompiluj±ce j±dro prawdopodobnie 
zainteresuj± siê programem <em>Install Kernel</em>, 
który nie tylko zwalnia nas od konieczno¶ci wykonania 
szeregu poleceñ, ale równie¿ automatycznie uaktualnia 
konfiguracjê programów uruchomieniowych (oprócz <em>GRUB-a</em>, 
obs³uguje te¿ <em>LILO</em>).
Je¶li chcemy ca³kiem upro¶ciæ sobie ustawienie t³a 
menu <em>GRUB-a</em>, mo¿emy skorzystaæ z 
programu <em>GrubTk</em>. Wystarczy w nim podaæ
 tylko nazwê pliku z rysunkiem, a program zajmuje siê reszt±.
<p>
A je¶li chcemy zobaczyæ, do czego jeszcze mo¿emy 
wykorzystaæ <em>GRUB-a</em>, to zainstalujemy 
sobie gry <em>GRUB Invaders</em>. Jest ona uruchamiania 
przez <em>GRUB-a</em> i nie wymaga 
do dzia³ania ¿adnego systemu operacyjnego.
<h3>
Zakoñczenie
</h3>
Wydawa³oby siê, ¿e program uruchomieniowy to proste 
narzêdzie pozwalaj±ce tylko wskazaæ, który system ma 
byæ uruchomiony. Tymczasem, okazuje siê, ¿e jest to 
program, który mo¿emy stosunkowo ³atwo dopasowaæ 
do swoich potrzeb. Z jego pomoc± uruchomimy nie tylko 
system, ale równie¿ takie programy, jak <em>Memtest86+</em>. 
<em>GRUB</em> mo¿e stanowiæ barierê broni±c± innym 
u¿ytkownikom dostêpu do naszego 
systemu, równocze¶nie nie zmniejszaj±c naszej wygody 
obs³ugi. Dodatkowo, mo¿e witaæ nas naszym ulubionym 
rysunkiem. Watro zapoznaæ siê z jego 
dokumentacj± i poznaæ inne jego funkcje. 
<h3>
RAMKA: Nazewnictwo dysków i partycji
</h3>
<p>
W pliku konfiguracyjnym <em>GRUB-a</em> 
(<em>/boot/grub/grub.conf</em>) zazwyczaj nie 
u¿ywamy znanych z Linuksa oznaczeñ  dysków i 
partycji, takich jak <em>hda, hdb2</em> i tym podobne. 
Zamiast tego, widzimy oznaczenia typu <em>(fd0)</em> 
lub <em>(hd1,2)</em>. Jest to nieco myl±ce, 
na pocz±tku, lecz mo¿emy siê szybko przyzwyczaiæ.
<p>
Opis <em>(fd0)</em> oznacza pierwszy napêd 
dyskietek (nale¿y pamiêtaæ o nawiasach i braku odstêpu 
pomiêdzy znakami). W przypadku dysków twardych 
nazwa <em>(hd0)</em> odpowiada dyskowi <em>hda</em>, 
nazwa <em>(hd1)</em> to dysk <em>hdb</em> itd., 
Jak wiêc widaæ, zamiast liter u¿ywamy cyfr, zaczynaj±c 
od zera. Aby wskazaæ konkretn± partycjê, dodajemy 
jej numer (znów licz±c od zera) po przecinku. Tak wiêc 
dla <em>hda1</em> mamy <em>(hd0,0)</em>, dla 
<em>hda7 - (hd0,6)</em>, a dla <em>hdc3 - (hd2,2)</em>. 
Wystarczy w zasadzie pamiêtaæ, ¿e numerujemy 
od <em>0</em>, a nie od <em>1</em>. Je¶li mamy 
w±tpliwo¶ci, mo¿emy przepisanie nazw do dysków 
sprawdziæ w pliku <em>/boot/grub/device.map</em>. 
Dla komputera posiadaj±cego tylko jeden napêd 
dyskietek i jeden dysk twardy, plik 
ten powinien mieæ nastêpuj±c± zawarto¶æ:
<pre>
(fd0)   /dev/fd0
(hd0)  /dev/hda
</pre>
<p>
W niektórych dystrybucjach (np. w <em>Red Hat</em> 
i pochodnych - <em>Fedora</em> i <em>Aurox</em>) 
popularne jest wskazywane partycji za pomoc± etykiety. 
Je¶li w naszym pliku konfiguracyjnym mamy liniê postaci: 
<tt>kernel  /vmlinuz-2.4.22-1  ro  root=LABEL=/</tt>, 
to zwróæmy uwagê na tekst <em>root=LABEL=/</em>. 
Zastêpuje on zwyk³y tekst postaci <em>root=/dev/hda1</em> 
(je¶li nasz katalog <em>/</em> jest umieszczony 
na partycji <em>hda1</em>). Mo¿emy zastanowiæ siê, 
co to daje i czemu siê tego u¿ywa. Zapis taki pozwala 
nam swobodnie przek³adaæ dysk w ramach naszego 
komputera, np. w przypadku dok³adania nowego napêdu 
lub nagrywarki. Je¶li stosujemy etykiety, nie musimy 
wówczas poprawiæ plików konfiguracyjnych (m.in. 
<em>grub.conf</em> i <em>/etc/fstab</em>).
<p>
Powstaje pytanie, jak odczytaæ i stworzyæ etykiety dla partycji. 
S³u¿y do tego polecenie <tt>e2label /dev/hda1</tt>, gdzie zamiast  
<tt>/dev/hda1</tt> wstawiamy nazwê partycji <em>ext2</em> 
lub <em>ext3</em>. Polecenie to spowoduje wy¶wietlenie 
etykiety przypisanej do partycji. Je¶li chcemy nadaæ 
partycji now± etykietê, to stosujemy zapisy 
<tt>e2label  /dev/hda1 etykieta</tt>.
Przy okazji warto zaznaczyæ, ¿e z etykiet mo¿emy 
korzystaæ tylko wtedy, gdy ³adujemy równie¿ 
odpowiadaj±cy j±dru RAM-dysk. S³u¿y do tego 
polecenia <tt>initrd/initrd-2.4.22-1.img</tt>, 
umieszczone pod wspomnian± wcze¶niej lini± pliku konfiguracyjnego.
<h3>
RAMKA: W Internecie
</h3>
<ul>
<li>
Strona domowa GRUB-a:
<em>http://www.gnu.org/software/grub/</em>
<li>
GNU GRUB splashimage howto:
<em>http://ruslug.rutgers.edu/~mcgrof/grub-images/</em>
<li>
Ró¿ne t³a dla menu GRUB-a:
<em>http://vision.featia.net/linux/grubsplash/</em>
<li>
Strona domowa Memtest86:
<em>http://www.memtest86.com/</em>
<li>
Strona domowa Memtest86+:
<em>http://www.memtest.org/</em>
<li>
Strona domowa skryptu Grubconfig:
<em>http://www.tux.org/pub/people/kentrobotti/looplinux/index.html</em>
<li>
Strona domowa programu GrubConf:
<em>http://grubconf.sourceforge.net/</em>
<li>
Strona domowa programu Install Kernel:
<em>http://installkernel.tripod.com/ik/index.html</em>
<li>
Strona domowa programu GrubTk:
<em>http://freshmeat.net/projects/grubtk/</em>
<li>
Strona domowa gry GRUB Invaders:
<em>http://www.erikyyy.de/invaders/</em>
</ul>


</body>
</html>
