<html>
<head>
<title>make</title>
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2">
</head>

<body bgcolor="white" text="black" link="blue" vlink="navy" alink="red">

<h1>make</h1>

<h3>OPIS</h3>

<p>Tekst zród³owy programu w jêzyku C dostajemy zwykle w postaci pliku 
.tar lub .tar.gz, który rozpakowujemy w okre¶lonym katalogu.
Dalej szukamy plików tekstowych INSTALL, README (czy podobnych)
i czytamy je. 
Interesuje nas jeszcze plik <em>makefile</em>, <em>Makefile</em>, 
czy te¿ <em>GNUmakefile</em> (zaleca siê, aby dla swoich
programów tworzyæ plik <em>Makefile</em>). 
Jest to skrypt dla polecenia <em>make</em> automatyzuj±cy proces 
kompilacji  i instalacji. 
Wystêpuj± w nim miêdzy innymi wywo³ania kompilatora. 
W przypadku istnienia pliku <em>makefile</em> instalacja aplikacji 
z regu³y sprowadza siê do wydania kolejno poleceñ:

<hr><pre>
[root]# ./configure
[root]# make             (kompiluje wg makefile)
[root]# make install         (instaluje)
</pre><hr>

<h3>OPCJE MAKE</h3>

<pre>
make -C DIR
	(zmiana katalogu bie¿±cego przed przeczytaniem Makefile;
	stosowane czêsto przy rekurencyjnych wywo³aniach make)

</pre>

<p>Zastosowanie w pliku <em>Makefile</em>
(trzeba korzystaæ ze zmiennej MAKE)

<hr><pre>
podsystem:
	$(MAKE) -C podkatalog
</pre><hr>


<h3>REGU£Y BUDOWY Makefile</h3>

<pre>
# Komentarze jak w skryptach shella

Definiowanie sztucznych celów:

.PHONY : clean zip

Definiowanie zmiennej (moga byæ spacje po obu stronach znaku równo¶ci):

ZMIENNA = wartosc
CC = gcc
PLIKI = plik1 plik2 plik3

Wywo³anie zmiennej:

$(ZMIENNA)
$(HOME)               (mo¿na korzystaæ ze zmiennych pow³oki)
</pre>

</body>
</html>
