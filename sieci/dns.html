<html>
<head>
<title>System nazw dziedzin</title>
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2">
</head>

<body bgcolor="white" text="black" link="blue" vlink="navy" alink="red">

<h1>System nazw dziedzin (Domain Name System, DNS)</h1>

<h3>WPROWADZENIE</h3>

<p>System nazw dziedzin zapewnia automatyczne przekszta³canie
(zamienianie, rozwi±zywanie) nazw komputerów na równowa¿ne adresy IP.
Na samym pocz±tku istnienia sieci ARPANET wystarcza³a lista nazw 
kilkuset komputerów umieszczona w pliku <em>host</em>.
Liczba komputerów w sieci wzros³a tak bardzo, ¿e system zosta³
zmieniony na bardziej wydajny.
W systemie Linux pozosta³o¶ci± po pierwotnym systemie jest plik
<em>/etc/hosts</em>, który przyk³adowo mo¿e zawieraæ wpisy:

<hr><pre>
127.0.0.1	localhost.localdomain	localhost
192.168.1.2	serwer.firma.com.pl	serwer
</pre><hr>

<p>Mo¿emy rêcznie uzupe³niaæ ten plik, aby zapewniæ szybsze 
rozwi±zywanie nazwy na adres IP.
System operacyjny najczê¶ciej najpierw sprawdza wpisy dokonane 
w tym pliku, a nie znalaz³szy, wysy³a zapytanie do serwera
¶wiadcz±cego us³ugê DNS (model klient-serwer).

<h3>DRZEWIASTA STRUKTURA DOMEN W INTERNECIE</h3>

<hr><pre>
korzeñ    |                   .
.         |        /   /            \     \
1. poziom |     com   edu           pl     arpa
.         |      /                 / \
2. poziom |  google             com   edu
.         |                          /  \
3. poziom |                         uj  agh
</pre><hr>

<p>Przestrzeñ nazw w Internecie oparta jest na modelu drzewiastym.
Ka¿da nazwa jest ci±giem znaków, sk³adaj±cym siê
z zestawu alfanumerycznych segmentów oddzielonych kropkami.
Nazwy s± rezerwowane hierarchicznie i segmenty nazw odpowiadaj±
poziomom w tej hierarchii.
Pe³n± dok³adn± nazwê domenow± <strong>FQDN</strong>
(Fully Qualified Domain Name) zapisujemy od prawej do lewej.

<p>PRZYK£AD: castor.if.uj.edu.pl. [kropka na koñcu jest pomijana]

<p>Organizacj± zajmuj±c± siê zarz±dzaniem przestrzeni± nazw jest
ICANN (The Internet Corporation for Assigned Names and Numbers,
<em>http://www.icann.org/</em>).
Domeny <strong>g³ównego poziomu</strong> dziel± siê na 

<ul>
<li>domeny organizacyjne (com, edu, gov, mil, int, net, org) 
przyznawane w zale¿no¶ci od prowadzonej dzia³alno¶ci.
<li>domeny geograficzne (pl, fr, uk, eu) przyznawane krajom.
</ul>

<p>Nowe domeny organizacyjne zaaprobowane w roku 2000 to:
info, biz, aero, name, pro, museum, coop.

<p>Domen± <strong>pl</strong> zarz±dza NASK 
(Naukowa i Akademicka Sieæ Komputerowa,
<em>http://www.dns.pl/</em>)

<h3>SERWERY DNS</h3>

<p>Serwer nazw ma najczê¶ciej informacje o czê¶ci ca³ej przestrzeni
nazw, zwanej <strong>stref±</strong>.
Dane te pobiera z lokalnego pliku lub z innego serwera nazw,
co opisujemy, mówi±æ, ¿e serwer ma <strong>autoryzacjê</strong> 
dla strefy lub ¿e jest <strong>wiarygodnym (autorytarnym)</strong> 
serwerem dla tej strefy.

<p>Ze wzglêdu na du¿± liczbê hostów stosuje siê tzw.
<strong>delegacjê strefy</strong>.
Dziêki temu baza nazw domenowych Internetu zachowuje
charakter rozproszony.

<p>Serwery DNS korzystaj± z dwu rodzajów optymalizacji:
replikacji i pamiêci podrêcznej.
Serwery g³ówne s± replikowane w celu zmniejszenia obci±¿enia
pojedyñczej maszyny. Co wa¿niejsze, poniewa¿ odwzorowywanie 
nazw zachowuje siê zgodnie z zasad± lokalno¶ci, wszystkie
serwery DNS umieszczaj± w swojej pamiêci podrêcznej kopie
znalezionych wi±zañ, aby móc z nich korzystaæ w przysz³o¶ci
[czas ¿ycia, TTL].

<p>Trzonem przestrzeni nazw Internetu jest trzyna¶cie
<strong>g³ównych serwerów DNS</strong>.

<h3>ROZWI¡ZYWANIE NAZW</h3>

<p>Program wysy³aj±cy zapytania do serwerów DNS nazywamy
<strong>resolwerem</strong>. Resolwer wysy³a zapytanie wewn±trz 
pakietu UDP skierowanego na port 53 serwera DNS.
Serwer odpowiada pakietem UDP z portu 53 na port wysoki z którego 
pad³o pytanie. 
Istniej± dwa rodzaje zapytañ DNS:

<ul>
<li>rekurencyjne - serwer jest zmuszony do znalezienia wymaganej 
informacji lub zwrócenia wiadomo¶ci o b³êdzie.
<li>iteracyjne - serwer podaje najlepsz± dostêpn± mu w danej chwili
odpowied¼.
</ul>

<p>Zapytania od resolwera do serwera s± typu rekurencyjnego, a zapytania
wysy³ane pomiêdzy serwerami s± iteracyjne.

<p>Najpopularniejsze serwery (programy) DNS:

<ul>
<li>bind (Berkeley Internet Name Domain)
<li>djbdns (autor: D. J. Bernstein)
</ul>

<h3>REKORDY ZASOBÓW</h3>

<p>Baza DNS przechowuje ró¿ne dane w standardowych rekordach zasobów.
Rekord sk³ada siê miêdzy innymi z nastêpuj±cych elementów:

<ul>
<li>nazwy dziedziny
<li>typu rekordu
<li>warto¶ci
</ul>

<p>Przyk³adowe typy rekordów:

<ul>
<li>A (Address) - t³umaczy nazwê hosta na jego adre IP
<li>MX (Mail Exchange) - Wskazuje domy¶lny serwer poczty elektronicznej
dla danej domeny
<li>CNAME (Canonical Name) - Opisuje alias dla wcze¶niej zdefiniowanej
nazwy hosta
</ul>

<h3>BEZPIECZEÑSTWO</h3>

<p>Ze wzglêdu na du¿± liczbê mo¿liwych do uzyskania informacji
oraz strategiczno¶æ us³ugi DNS serwery te s± bardzo czêsto atakowane
(lub wykorzystywane podczas zbierania danych) przez crackerów.

</body>
</html>
